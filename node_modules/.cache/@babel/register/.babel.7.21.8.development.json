{"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\nconst morgan = require(\"morgan\");\nconst mongoose = require(\"mongoose\");\nconst cors = require(\"cors\");\nconst cookieParser = require(\"cookie-parser\");\nvar app = express();\nrequire(\"dotenv\").config();\nconst {\n  MONGODB_CONN_STR\n} = require(\"./configuration/index\");\nconst bodyParser = require(\"body-parser\");\nconst CONN_STRING = MONGODB_CONN_STR;\nconsole.log(MONGODB_CONN_STR);\nmongoose.Promise = global.Promise;\nmongoose.connect(CONN_STRING, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => console.log(\"MONGO DB CONNECTION SUCCESSFUL\")).catch(error => console.log(error));\napp.disable(\"etag\");\n\n// const app = express();\napp.use(cookieParser());\napp.use(cors());\napp.use(bodyParser.urlencoded({\n  extended: false,\n  limit: \"50mb\"\n}));\napp.use(bodyParser.json({\n  limit: \"50mb\"\n}));\n\n// Middlewares moved morgan into if for clear tests\nif (!process.env.NODE_ENV === \"test\") {\n  app.use(morgan(\"dev\"));\n}\napp.use(express.json());\n// app.use(express.static(__dirname + '/email_templates/images'));\n\n// app.use('/images', express.static(__dirname+'//email_templates/images/'))\n\n// Routes\napp.use(\"/users\", require(\"./routes/users\"));\n// app.use(\"/emails\", require(\"./routes/emails\"));\n// app.use(\"/images\", require(\"./routes/images\"));\n// app.use(\"/categories\", require(\"./routes/categories\"));\n// app.use(\"/products\", require(\"./routes/products\"));\n// app.use(\"/orders\", require(\"./routes/orders\"));\n// app.use(\"/brands\", require(\"./routes/brands\"));\n// app.use(\"/stock\", require(\"./routes/stocks\"));\n// app.use(\"/notifications\", require(\"./routes/notifications\"));\n// app.use(\"/cart\", require(\"./routes/cart\"));\n// app.use(\"/banners\", require(\"./routes/banners\"));\n// app.use(\"/payment\", require(\"./routes/payment\"));\n\nconst port = process.env.PORT || 8080;\napp.listen(port, () => {\n  console.log(\"NODE SERVER STARTED\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vcmdhbiIsIm1vbmdvb3NlIiwiY29ycyIsImNvb2tpZVBhcnNlciIsImFwcCIsImNvbmZpZyIsIk1PTkdPREJfQ09OTl9TVFIiLCJib2R5UGFyc2VyIiwiQ09OTl9TVFJJTkciLCJjb25zb2xlIiwibG9nIiwiUHJvbWlzZSIsImdsb2JhbCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY2F0Y2giLCJlcnJvciIsImRpc2FibGUiLCJ1c2UiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJsaW1pdCIsImpzb24iLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJwb3J0IiwiUE9SVCIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3ByYWRlZXByZWRkeS9EZXNrdG9wL21pdHJhLXNlcnZlci8iLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBtb3JnYW4gPSByZXF1aXJlKFwibW9yZ2FuXCIpO1xuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5jb25zdCBjb29raWVQYXJzZXIgPSByZXF1aXJlKFwiY29va2llLXBhcnNlclwiKTtcbnZhciBhcHAgPSBleHByZXNzKCk7XG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5jb25zdCB7IE1PTkdPREJfQ09OTl9TVFIgfSA9IHJlcXVpcmUoXCIuL2NvbmZpZ3VyYXRpb24vaW5kZXhcIik7XG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xuXG5jb25zdCBDT05OX1NUUklORyA9IE1PTkdPREJfQ09OTl9TVFI7XG5jb25zb2xlLmxvZyhNT05HT0RCX0NPTk5fU1RSKTtcbm1vbmdvb3NlLlByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcbm1vbmdvb3NlXG4gIC5jb25uZWN0KENPTk5fU1RSSU5HLCB7XG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgfSlcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJNT05HTyBEQiBDT05ORUNUSU9OIFNVQ0NFU1NGVUxcIikpXG4gIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKSk7XG5cbmFwcC5kaXNhYmxlKFwiZXRhZ1wiKTtcblxuLy8gY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKFxuICBib2R5UGFyc2VyLnVybGVuY29kZWQoe1xuICAgIGV4dGVuZGVkOiBmYWxzZSxcbiAgICBsaW1pdDogXCI1MG1iXCIsXG4gIH0pXG4pO1xuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oeyBsaW1pdDogXCI1MG1iXCIgfSkpO1xuXG4vLyBNaWRkbGV3YXJlcyBtb3ZlZCBtb3JnYW4gaW50byBpZiBmb3IgY2xlYXIgdGVzdHNcbmlmICghcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwidGVzdFwiKSB7XG4gIGFwcC51c2UobW9yZ2FuKFwiZGV2XCIpKTtcbn1cblxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG4vLyBhcHAudXNlKGV4cHJlc3Muc3RhdGljKF9fZGlybmFtZSArICcvZW1haWxfdGVtcGxhdGVzL2ltYWdlcycpKTtcblxuXG4vLyBhcHAudXNlKCcvaW1hZ2VzJywgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lKycvL2VtYWlsX3RlbXBsYXRlcy9pbWFnZXMvJykpXG5cbi8vIFJvdXRlc1xuYXBwLnVzZShcIi91c2Vyc1wiLCByZXF1aXJlKFwiLi9yb3V0ZXMvdXNlcnNcIikpO1xuLy8gYXBwLnVzZShcIi9lbWFpbHNcIiwgcmVxdWlyZShcIi4vcm91dGVzL2VtYWlsc1wiKSk7XG4vLyBhcHAudXNlKFwiL2ltYWdlc1wiLCByZXF1aXJlKFwiLi9yb3V0ZXMvaW1hZ2VzXCIpKTtcbi8vIGFwcC51c2UoXCIvY2F0ZWdvcmllc1wiLCByZXF1aXJlKFwiLi9yb3V0ZXMvY2F0ZWdvcmllc1wiKSk7XG4vLyBhcHAudXNlKFwiL3Byb2R1Y3RzXCIsIHJlcXVpcmUoXCIuL3JvdXRlcy9wcm9kdWN0c1wiKSk7XG4vLyBhcHAudXNlKFwiL29yZGVyc1wiLCByZXF1aXJlKFwiLi9yb3V0ZXMvb3JkZXJzXCIpKTtcbi8vIGFwcC51c2UoXCIvYnJhbmRzXCIsIHJlcXVpcmUoXCIuL3JvdXRlcy9icmFuZHNcIikpO1xuLy8gYXBwLnVzZShcIi9zdG9ja1wiLCByZXF1aXJlKFwiLi9yb3V0ZXMvc3RvY2tzXCIpKTtcbi8vIGFwcC51c2UoXCIvbm90aWZpY2F0aW9uc1wiLCByZXF1aXJlKFwiLi9yb3V0ZXMvbm90aWZpY2F0aW9uc1wiKSk7XG4vLyBhcHAudXNlKFwiL2NhcnRcIiwgcmVxdWlyZShcIi4vcm91dGVzL2NhcnRcIikpO1xuLy8gYXBwLnVzZShcIi9iYW5uZXJzXCIsIHJlcXVpcmUoXCIuL3JvdXRlcy9iYW5uZXJzXCIpKTtcbi8vIGFwcC51c2UoXCIvcGF5bWVudFwiLCByZXF1aXJlKFwiLi9yb3V0ZXMvcGF5bWVudFwiKSk7XG5cbmNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDgwODA7XG5hcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJOT0RFIFNFUlZFUiBTVEFSVEVEXCIpO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUNoQyxNQUFNRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDcEMsTUFBTUcsSUFBSSxHQUFHSCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1JLFlBQVksR0FBR0osT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUM3QyxJQUFJSyxHQUFHLEdBQUdOLE9BQU8sQ0FBQyxDQUFDO0FBQ25CQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUNNLE1BQU0sQ0FBQyxDQUFDO0FBRTFCLE1BQU07RUFBRUM7QUFBaUIsQ0FBQyxHQUFHUCxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDN0QsTUFBTVEsVUFBVSxHQUFHUixPQUFPLENBQUMsYUFBYSxDQUFDO0FBRXpDLE1BQU1TLFdBQVcsR0FBR0YsZ0JBQWdCO0FBQ3BDRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osZ0JBQWdCLENBQUM7QUFDN0JMLFFBQVEsQ0FBQ1UsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakNWLFFBQVEsQ0FDTFksT0FBTyxDQUFDTCxXQUFXLEVBQUU7RUFDcEJNLGVBQWUsRUFBRSxJQUFJO0VBQ3JCQyxrQkFBa0IsRUFBRTtBQUN0QixDQUFDLENBQUMsQ0FDREMsSUFBSSxDQUFDLE1BQU1QLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdDQUFnQyxDQUFDLENBQUMsQ0FDekRPLEtBQUssQ0FBRUMsS0FBSyxJQUFLVCxPQUFPLENBQUNDLEdBQUcsQ0FBQ1EsS0FBSyxDQUFDLENBQUM7QUFFdkNkLEdBQUcsQ0FBQ2UsT0FBTyxDQUFDLE1BQU0sQ0FBQzs7QUFFbkI7QUFDQWYsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDakIsWUFBWSxDQUFDLENBQUMsQ0FBQztBQUN2QkMsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDbEIsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNmRSxHQUFHLENBQUNnQixHQUFHLENBQ0xiLFVBQVUsQ0FBQ2MsVUFBVSxDQUFDO0VBQ3BCQyxRQUFRLEVBQUUsS0FBSztFQUNmQyxLQUFLLEVBQUU7QUFDVCxDQUFDLENBQ0gsQ0FBQztBQUNEbkIsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDYixVQUFVLENBQUNpQixJQUFJLENBQUM7RUFBRUQsS0FBSyxFQUFFO0FBQU8sQ0FBQyxDQUFDLENBQUM7O0FBRTNDO0FBQ0EsSUFBSSxDQUFDRSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLLE1BQU0sRUFBRTtFQUNwQ3ZCLEdBQUcsQ0FBQ2dCLEdBQUcsQ0FBQ3BCLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN4QjtBQUVBSSxHQUFHLENBQUNnQixHQUFHLENBQUN0QixPQUFPLENBQUMwQixJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCOztBQUdBOztBQUVBO0FBQ0FwQixHQUFHLENBQUNnQixHQUFHLENBQUMsUUFBUSxFQUFFckIsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNNkIsSUFBSSxHQUFHSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csSUFBSSxJQUFJLElBQUk7QUFDckN6QixHQUFHLENBQUMwQixNQUFNLENBQUNGLElBQUksRUFBRSxNQUFNO0VBQ3JCbkIsT0FBTyxDQUFDQyxHQUFHLENBQUMscUJBQXFCLENBQUM7QUFDcEMsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["express","require","morgan","mongoose","cors","cookieParser","app","config","MONGODB_CONN_STR","bodyParser","CONN_STRING","console","log","Promise","global","connect","useNewUrlParser","useUnifiedTopology","then","catch","error","disable","use","urlencoded","extended","limit","json","process","env","NODE_ENV","port","PORT","listen"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/","sources":["app.js"],"sourcesContent":["const express = require(\"express\");\nconst morgan = require(\"morgan\");\nconst mongoose = require(\"mongoose\");\nconst cors = require(\"cors\");\nconst cookieParser = require(\"cookie-parser\");\nvar app = express();\nrequire(\"dotenv\").config();\n\nconst { MONGODB_CONN_STR } = require(\"./configuration/index\");\nconst bodyParser = require(\"body-parser\");\n\nconst CONN_STRING = MONGODB_CONN_STR;\nconsole.log(MONGODB_CONN_STR);\nmongoose.Promise = global.Promise;\nmongoose\n  .connect(CONN_STRING, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n  })\n  .then(() => console.log(\"MONGO DB CONNECTION SUCCESSFUL\"))\n  .catch((error) => console.log(error));\n\napp.disable(\"etag\");\n\n// const app = express();\napp.use(cookieParser());\napp.use(cors());\napp.use(\n  bodyParser.urlencoded({\n    extended: false,\n    limit: \"50mb\",\n  })\n);\napp.use(bodyParser.json({ limit: \"50mb\" }));\n\n// Middlewares moved morgan into if for clear tests\nif (!process.env.NODE_ENV === \"test\") {\n  app.use(morgan(\"dev\"));\n}\n\napp.use(express.json());\n// app.use(express.static(__dirname + '/email_templates/images'));\n\n\n// app.use('/images', express.static(__dirname+'//email_templates/images/'))\n\n// Routes\napp.use(\"/users\", require(\"./routes/users\"));\n// app.use(\"/emails\", require(\"./routes/emails\"));\n// app.use(\"/images\", require(\"./routes/images\"));\n// app.use(\"/categories\", require(\"./routes/categories\"));\n// app.use(\"/products\", require(\"./routes/products\"));\n// app.use(\"/orders\", require(\"./routes/orders\"));\n// app.use(\"/brands\", require(\"./routes/brands\"));\n// app.use(\"/stock\", require(\"./routes/stocks\"));\n// app.use(\"/notifications\", require(\"./routes/notifications\"));\n// app.use(\"/cart\", require(\"./routes/cart\"));\n// app.use(\"/banners\", require(\"./routes/banners\"));\n// app.use(\"/payment\", require(\"./routes/payment\"));\n\nconst port = process.env.PORT || 8080;\napp.listen(port, () => {\n  console.log(\"NODE SERVER STARTED\");\n});\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAME,QAAQ,GAAGF,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMG,IAAI,GAAGH,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMI,YAAY,GAAGJ,OAAO,CAAC,eAAe,CAAC;AAC7C,IAAIK,GAAG,GAAGN,OAAO,CAAC,CAAC;AACnBC,OAAO,CAAC,QAAQ,CAAC,CAACM,MAAM,CAAC,CAAC;AAE1B,MAAM;EAAEC;AAAiB,CAAC,GAAGP,OAAO,CAAC,uBAAuB,CAAC;AAC7D,MAAMQ,UAAU,GAAGR,OAAO,CAAC,aAAa,CAAC;AAEzC,MAAMS,WAAW,GAAGF,gBAAgB;AACpCG,OAAO,CAACC,GAAG,CAACJ,gBAAgB,CAAC;AAC7BL,QAAQ,CAACU,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjCV,QAAQ,CACLY,OAAO,CAACL,WAAW,EAAE;EACpBM,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CAAC,CAAC,CACDC,IAAI,CAAC,MAAMP,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CAAC,CACzDO,KAAK,CAAEC,KAAK,IAAKT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC,CAAC;AAEvCd,GAAG,CAACe,OAAO,CAAC,MAAM,CAAC;;AAEnB;AACAf,GAAG,CAACgB,GAAG,CAACjB,YAAY,CAAC,CAAC,CAAC;AACvBC,GAAG,CAACgB,GAAG,CAAClB,IAAI,CAAC,CAAC,CAAC;AACfE,GAAG,CAACgB,GAAG,CACLb,UAAU,CAACc,UAAU,CAAC;EACpBC,QAAQ,EAAE,KAAK;EACfC,KAAK,EAAE;AACT,CAAC,CACH,CAAC;AACDnB,GAAG,CAACgB,GAAG,CAACb,UAAU,CAACiB,IAAI,CAAC;EAAED,KAAK,EAAE;AAAO,CAAC,CAAC,CAAC;;AAE3C;AACA,IAAI,CAACE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,MAAM,EAAE;EACpCvB,GAAG,CAACgB,GAAG,CAACpB,MAAM,CAAC,KAAK,CAAC,CAAC;AACxB;AAEAI,GAAG,CAACgB,GAAG,CAACtB,OAAO,CAAC0B,IAAI,CAAC,CAAC,CAAC;AACvB;;AAGA;;AAEA;AACApB,GAAG,CAACgB,GAAG,CAAC,QAAQ,EAAErB,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM6B,IAAI,GAAGH,OAAO,CAACC,GAAG,CAACG,IAAI,IAAI,IAAI;AACrCzB,GAAG,CAAC0B,MAAM,CAACF,IAAI,EAAE,MAAM;EACrBnB,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;AACpC,CAAC,CAAC"}},"mtime":1683646253846},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/configuration/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/configuration/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  MONGODB_CONN_STR: \"mongodb+srv://mitrasocietycorp:qySFrF54Mu40J7z7@cluster0.yg04ycc.mongodb.net/mitra\",\n  JWT_SECRET: \"pradeepreddychada\",\n  oauth: {\n    google: {\n      clientID: \"338601550454-1u2bn4i06l30sn0brqgshlqu3jnn7f2h.apps.googleusercontent.com\",\n      clientSecret: \"n3HF4pWz42Q6qP9p6DksNxCO\"\n    },\n    facebook: {\n      clientID: \"2273900542721665\",\n      clientSecret: \"13c6f5d78a2c8c683c1e26d30e9f5583\"\n    }\n  },\n  EMAIL_CONFIG: {\n    host: \"smtpout.secureserver.net\",\n    secure: true,\n    secureConnection: false,\n    // TLS requires secureConnection to be false\n    tls: {\n      ciphers: \"SSLv3\"\n    },\n    requireTLS: true,\n    port: 465,\n    debug: true,\n    auth: {\n      user: \"info@honeybag.in\",\n      pass: \"HoneyBag@2020\"\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiTU9OR09EQl9DT05OX1NUUiIsIkpXVF9TRUNSRVQiLCJvYXV0aCIsImdvb2dsZSIsImNsaWVudElEIiwiY2xpZW50U2VjcmV0IiwiZmFjZWJvb2siLCJFTUFJTF9DT05GSUciLCJob3N0Iiwic2VjdXJlIiwic2VjdXJlQ29ubmVjdGlvbiIsInRscyIsImNpcGhlcnMiLCJyZXF1aXJlVExTIiwicG9ydCIsImRlYnVnIiwiYXV0aCIsInVzZXIiLCJwYXNzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvcHJhZGVlcHJlZGR5L0Rlc2t0b3AvbWl0cmEtc2VydmVyL2NvbmZpZ3VyYXRpb24vIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBNT05HT0RCX0NPTk5fU1RSOiBcIm1vbmdvZGIrc3J2Oi8vbWl0cmFzb2NpZXR5Y29ycDpxeVNGckY1NE11NDBKN3o3QGNsdXN0ZXIwLnlnMDR5Y2MubW9uZ29kYi5uZXQvbWl0cmFcIixcbiAgICBKV1RfU0VDUkVUOiBcInByYWRlZXByZWRkeWNoYWRhXCIsXG4gICAgb2F1dGg6IHtcbiAgICAgIGdvb2dsZToge1xuICAgICAgICBjbGllbnRJRDogXCIzMzg2MDE1NTA0NTQtMXUyYm40aTA2bDMwc24wYnJxZ3NobHF1M2pubjdmMmguYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIixcbiAgICAgICAgY2xpZW50U2VjcmV0OiBcIm4zSEY0cFd6NDJRNnFQOXA2RGtzTnhDT1wiLFxuICAgICAgfSxcbiAgICAgIGZhY2Vib29rOiB7XG4gICAgICAgIGNsaWVudElEOiBcIjIyNzM5MDA1NDI3MjE2NjVcIixcbiAgICAgICAgY2xpZW50U2VjcmV0OiBcIjEzYzZmNWQ3OGEyYzhjNjgzYzFlMjZkMzBlOWY1NTgzXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgRU1BSUxfQ09ORklHOiB7XG4gICAgICBob3N0OiBcInNtdHBvdXQuc2VjdXJlc2VydmVyLm5ldFwiLFxuICAgICAgc2VjdXJlOiB0cnVlLFxuICAgICAgc2VjdXJlQ29ubmVjdGlvbjogZmFsc2UsIC8vIFRMUyByZXF1aXJlcyBzZWN1cmVDb25uZWN0aW9uIHRvIGJlIGZhbHNlXG4gICAgICB0bHM6IHtcbiAgICAgICAgY2lwaGVyczogXCJTU0x2M1wiLFxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVUTFM6IHRydWUsXG4gICAgICBwb3J0OiA0NjUsXG4gICAgICBkZWJ1ZzogdHJ1ZSxcbiAgICAgIGF1dGg6IHtcbiAgICAgICAgdXNlcjogXCJpbmZvQGhvbmV5YmFnLmluXCIsXG4gICAgICAgIHBhc3M6IFwiSG9uZXlCYWdAMjAyMFwiLFxuICAgICAgfSxcbiAgICB9LFxuICB9O1xuICAiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2JDLGdCQUFnQixFQUFFLG9GQUFvRjtFQUN0R0MsVUFBVSxFQUFFLG1CQUFtQjtFQUMvQkMsS0FBSyxFQUFFO0lBQ0xDLE1BQU0sRUFBRTtNQUNOQyxRQUFRLEVBQUUsMEVBQTBFO01BQ3BGQyxZQUFZLEVBQUU7SUFDaEIsQ0FBQztJQUNEQyxRQUFRLEVBQUU7TUFDUkYsUUFBUSxFQUFFLGtCQUFrQjtNQUM1QkMsWUFBWSxFQUFFO0lBQ2hCO0VBQ0YsQ0FBQztFQUNERSxZQUFZLEVBQUU7SUFDWkMsSUFBSSxFQUFFLDBCQUEwQjtJQUNoQ0MsTUFBTSxFQUFFLElBQUk7SUFDWkMsZ0JBQWdCLEVBQUUsS0FBSztJQUFFO0lBQ3pCQyxHQUFHLEVBQUU7TUFDSEMsT0FBTyxFQUFFO0lBQ1gsQ0FBQztJQUNEQyxVQUFVLEVBQUUsSUFBSTtJQUNoQkMsSUFBSSxFQUFFLEdBQUc7SUFDVEMsS0FBSyxFQUFFLElBQUk7SUFDWEMsSUFBSSxFQUFFO01BQ0pDLElBQUksRUFBRSxrQkFBa0I7TUFDeEJDLElBQUksRUFBRTtJQUNSO0VBQ0Y7QUFDRixDQUFDIn0=","map":{"version":3,"names":["module","exports","MONGODB_CONN_STR","JWT_SECRET","oauth","google","clientID","clientSecret","facebook","EMAIL_CONFIG","host","secure","secureConnection","tls","ciphers","requireTLS","port","debug","auth","user","pass"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/configuration/","sources":["index.js"],"sourcesContent":["module.exports = {\n    MONGODB_CONN_STR: \"mongodb+srv://mitrasocietycorp:qySFrF54Mu40J7z7@cluster0.yg04ycc.mongodb.net/mitra\",\n    JWT_SECRET: \"pradeepreddychada\",\n    oauth: {\n      google: {\n        clientID: \"338601550454-1u2bn4i06l30sn0brqgshlqu3jnn7f2h.apps.googleusercontent.com\",\n        clientSecret: \"n3HF4pWz42Q6qP9p6DksNxCO\",\n      },\n      facebook: {\n        clientID: \"2273900542721665\",\n        clientSecret: \"13c6f5d78a2c8c683c1e26d30e9f5583\",\n      },\n    },\n    EMAIL_CONFIG: {\n      host: \"smtpout.secureserver.net\",\n      secure: true,\n      secureConnection: false, // TLS requires secureConnection to be false\n      tls: {\n        ciphers: \"SSLv3\",\n      },\n      requireTLS: true,\n      port: 465,\n      debug: true,\n      auth: {\n        user: \"info@honeybag.in\",\n        pass: \"HoneyBag@2020\",\n      },\n    },\n  };\n  "],"mappings":";;AAAAA,MAAM,CAACC,OAAO,GAAG;EACbC,gBAAgB,EAAE,oFAAoF;EACtGC,UAAU,EAAE,mBAAmB;EAC/BC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,QAAQ,EAAE,0EAA0E;MACpFC,YAAY,EAAE;IAChB,CAAC;IACDC,QAAQ,EAAE;MACRF,QAAQ,EAAE,kBAAkB;MAC5BC,YAAY,EAAE;IAChB;EACF,CAAC;EACDE,YAAY,EAAE;IACZC,IAAI,EAAE,0BAA0B;IAChCC,MAAM,EAAE,IAAI;IACZC,gBAAgB,EAAE,KAAK;IAAE;IACzBC,GAAG,EAAE;MACHC,OAAO,EAAE;IACX,CAAC;IACDC,UAAU,EAAE,IAAI;IAChBC,IAAI,EAAE,GAAG;IACTC,KAAK,EAAE,IAAI;IACXC,IAAI,EAAE;MACJC,IAAI,EAAE,kBAAkB;MACxBC,IAAI,EAAE;IACR;EACF;AACF,CAAC"}},"mtime":1682755520212},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/routes/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\nconst router = require(\"express-promise-router\")();\nconst passport = require(\"passport\");\nconst passportConf = require(\"../passport\");\nconst {\n  validateBody,\n  schemas,\n  validateParams\n} = require(\"../helpers/routeHelpers\");\nconst UserController = require(\"../controllers/users\");\nconst passportSignIn = passport.authenticate(\"local\", {\n  session: false\n});\nconst passportJWT = passport.authenticate(\"jwt\", {\n  session: false\n});\nvar os = require(\"os\");\nrouter.route(\"/signin\").post(validateBody(schemas.loginSchema), passportSignIn, UserController.signIn);\nrouter.route(\"/\").post(passportJWT, validateBody(schemas.userSchema), UserController.createUser);\nrouter.route(\"/:id\").delete(passportJWT, UserController.deleteUser);\nrouter.route(\"/\").get(passportJWT, UserController.getUsers);\nrouter.route(\"/profile/update\").put(passportJWT, UserController.updateProfile);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsInBhc3Nwb3J0IiwicGFzc3BvcnRDb25mIiwidmFsaWRhdGVCb2R5Iiwic2NoZW1hcyIsInZhbGlkYXRlUGFyYW1zIiwiVXNlckNvbnRyb2xsZXIiLCJwYXNzcG9ydFNpZ25JbiIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJwYXNzcG9ydEpXVCIsIm9zIiwicm91dGUiLCJwb3N0IiwibG9naW5TY2hlbWEiLCJzaWduSW4iLCJ1c2VyU2NoZW1hIiwiY3JlYXRlVXNlciIsImRlbGV0ZSIsImRlbGV0ZVVzZXIiLCJnZXQiLCJnZXRVc2VycyIsInB1dCIsInVwZGF0ZVByb2ZpbGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9wcmFkZWVwcmVkZHkvRGVza3RvcC9taXRyYS1zZXJ2ZXIvcm91dGVzLyIsInNvdXJjZXMiOlsidXNlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qgcm91dGVyID0gcmVxdWlyZShcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIikoKTtcbmNvbnN0IHBhc3Nwb3J0ID0gcmVxdWlyZShcInBhc3Nwb3J0XCIpO1xuY29uc3QgcGFzc3BvcnRDb25mID0gcmVxdWlyZShcIi4uL3Bhc3Nwb3J0XCIpO1xuY29uc3QgeyB2YWxpZGF0ZUJvZHksIHNjaGVtYXMsIHZhbGlkYXRlUGFyYW1zIH0gPSByZXF1aXJlKFwiLi4vaGVscGVycy9yb3V0ZUhlbHBlcnNcIik7XG5jb25zdCBVc2VyQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy91c2Vyc1wiKTtcbmNvbnN0IHBhc3Nwb3J0U2lnbkluID0gcGFzc3BvcnQuYXV0aGVudGljYXRlKFwibG9jYWxcIiwgeyBzZXNzaW9uOiBmYWxzZSB9KTtcbmNvbnN0IHBhc3Nwb3J0SldUID0gcGFzc3BvcnQuYXV0aGVudGljYXRlKFwiand0XCIsIHsgc2Vzc2lvbjogZmFsc2UgfSk7XG52YXIgb3MgPSByZXF1aXJlKFwib3NcIik7XG5cblxucm91dGVyXG4gIC5yb3V0ZShcIi9zaWduaW5cIilcbiAgLnBvc3QodmFsaWRhdGVCb2R5KHNjaGVtYXMubG9naW5TY2hlbWEpLCBwYXNzcG9ydFNpZ25JbiwgVXNlckNvbnRyb2xsZXIuc2lnbkluKTtcblxucm91dGVyXG4gIC5yb3V0ZShcIi9cIilcbiAgLnBvc3QocGFzc3BvcnRKV1QsIHZhbGlkYXRlQm9keShzY2hlbWFzLnVzZXJTY2hlbWEpLCBVc2VyQ29udHJvbGxlci5jcmVhdGVVc2VyKTtcblxucm91dGVyLnJvdXRlKFwiLzppZFwiKS5kZWxldGUocGFzc3BvcnRKV1QsIFVzZXJDb250cm9sbGVyLmRlbGV0ZVVzZXIpO1xuXG5yb3V0ZXIucm91dGUoXCIvXCIpLmdldChwYXNzcG9ydEpXVCwgVXNlckNvbnRyb2xsZXIuZ2V0VXNlcnMpO1xuXG5yb3V0ZXIucm91dGUoXCIvcHJvZmlsZS91cGRhdGVcIikucHV0KHBhc3Nwb3J0SldULCBVc2VyQ29udHJvbGxlci51cGRhdGVQcm9maWxlKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxDQUFDO0FBQ2xELE1BQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNRyxZQUFZLEdBQUdILE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFDM0MsTUFBTTtFQUFFSSxZQUFZO0VBQUVDLE9BQU87RUFBRUM7QUFBZSxDQUFDLEdBQUdOLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQztBQUNwRixNQUFNTyxjQUFjLEdBQUdQLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztBQUN0RCxNQUFNUSxjQUFjLEdBQUdOLFFBQVEsQ0FBQ08sWUFBWSxDQUFDLE9BQU8sRUFBRTtFQUFFQyxPQUFPLEVBQUU7QUFBTSxDQUFDLENBQUM7QUFDekUsTUFBTUMsV0FBVyxHQUFHVCxRQUFRLENBQUNPLFlBQVksQ0FBQyxLQUFLLEVBQUU7RUFBRUMsT0FBTyxFQUFFO0FBQU0sQ0FBQyxDQUFDO0FBQ3BFLElBQUlFLEVBQUUsR0FBR1osT0FBTyxDQUFDLElBQUksQ0FBQztBQUd0QkMsTUFBTSxDQUNIWSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQ2hCQyxJQUFJLENBQUNWLFlBQVksQ0FBQ0MsT0FBTyxDQUFDVSxXQUFXLENBQUMsRUFBRVAsY0FBYyxFQUFFRCxjQUFjLENBQUNTLE1BQU0sQ0FBQztBQUVqRmYsTUFBTSxDQUNIWSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQ1ZDLElBQUksQ0FBQ0gsV0FBVyxFQUFFUCxZQUFZLENBQUNDLE9BQU8sQ0FBQ1ksVUFBVSxDQUFDLEVBQUVWLGNBQWMsQ0FBQ1csVUFBVSxDQUFDO0FBRWpGakIsTUFBTSxDQUFDWSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUNNLE1BQU0sQ0FBQ1IsV0FBVyxFQUFFSixjQUFjLENBQUNhLFVBQVUsQ0FBQztBQUVuRW5CLE1BQU0sQ0FBQ1ksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDUSxHQUFHLENBQUNWLFdBQVcsRUFBRUosY0FBYyxDQUFDZSxRQUFRLENBQUM7QUFFM0RyQixNQUFNLENBQUNZLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDVSxHQUFHLENBQUNaLFdBQVcsRUFBRUosY0FBYyxDQUFDaUIsYUFBYSxDQUFDIn0=","map":{"version":3,"names":["express","require","router","passport","passportConf","validateBody","schemas","validateParams","UserController","passportSignIn","authenticate","session","passportJWT","os","route","post","loginSchema","signIn","userSchema","createUser","delete","deleteUser","get","getUsers","put","updateProfile"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/routes/","sources":["users.js"],"sourcesContent":["const express = require(\"express\");\nconst router = require(\"express-promise-router\")();\nconst passport = require(\"passport\");\nconst passportConf = require(\"../passport\");\nconst { validateBody, schemas, validateParams } = require(\"../helpers/routeHelpers\");\nconst UserController = require(\"../controllers/users\");\nconst passportSignIn = passport.authenticate(\"local\", { session: false });\nconst passportJWT = passport.authenticate(\"jwt\", { session: false });\nvar os = require(\"os\");\n\n\nrouter\n  .route(\"/signin\")\n  .post(validateBody(schemas.loginSchema), passportSignIn, UserController.signIn);\n\nrouter\n  .route(\"/\")\n  .post(passportJWT, validateBody(schemas.userSchema), UserController.createUser);\n\nrouter.route(\"/:id\").delete(passportJWT, UserController.deleteUser);\n\nrouter.route(\"/\").get(passportJWT, UserController.getUsers);\n\nrouter.route(\"/profile/update\").put(passportJWT, UserController.updateProfile);\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGD,OAAO,CAAC,wBAAwB,CAAC,CAAC,CAAC;AAClD,MAAME,QAAQ,GAAGF,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMG,YAAY,GAAGH,OAAO,CAAC,aAAa,CAAC;AAC3C,MAAM;EAAEI,YAAY;EAAEC,OAAO;EAAEC;AAAe,CAAC,GAAGN,OAAO,CAAC,yBAAyB,CAAC;AACpF,MAAMO,cAAc,GAAGP,OAAO,CAAC,sBAAsB,CAAC;AACtD,MAAMQ,cAAc,GAAGN,QAAQ,CAACO,YAAY,CAAC,OAAO,EAAE;EAAEC,OAAO,EAAE;AAAM,CAAC,CAAC;AACzE,MAAMC,WAAW,GAAGT,QAAQ,CAACO,YAAY,CAAC,KAAK,EAAE;EAAEC,OAAO,EAAE;AAAM,CAAC,CAAC;AACpE,IAAIE,EAAE,GAAGZ,OAAO,CAAC,IAAI,CAAC;AAGtBC,MAAM,CACHY,KAAK,CAAC,SAAS,CAAC,CAChBC,IAAI,CAACV,YAAY,CAACC,OAAO,CAACU,WAAW,CAAC,EAAEP,cAAc,EAAED,cAAc,CAACS,MAAM,CAAC;AAEjFf,MAAM,CACHY,KAAK,CAAC,GAAG,CAAC,CACVC,IAAI,CAACH,WAAW,EAAEP,YAAY,CAACC,OAAO,CAACY,UAAU,CAAC,EAAEV,cAAc,CAACW,UAAU,CAAC;AAEjFjB,MAAM,CAACY,KAAK,CAAC,MAAM,CAAC,CAACM,MAAM,CAACR,WAAW,EAAEJ,cAAc,CAACa,UAAU,CAAC;AAEnEnB,MAAM,CAACY,KAAK,CAAC,GAAG,CAAC,CAACQ,GAAG,CAACV,WAAW,EAAEJ,cAAc,CAACe,QAAQ,CAAC;AAE3DrB,MAAM,CAACY,KAAK,CAAC,iBAAiB,CAAC,CAACU,GAAG,CAACZ,WAAW,EAAEJ,cAAc,CAACiB,aAAa,CAAC"}},"mtime":1683646105993},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/passport.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nconst passport = require(\"passport\");\nconst JwtStrategy = require(\"passport-jwt\").Strategy;\nconst {\n  ExtractJwt\n} = require(\"passport-jwt\");\nconst LocalStrategy = require(\"passport-local\").Strategy;\n// const GoogleTokenStrategy = require('passport-google-token').Strategy;\n// const FacebookTokenStrategy = require('passport-facebook-token');\nconst config = require(\"./configuration\");\nconst Users = require(\"./models/users\");\nconst tokenExtractor = req => {\n  let token = null;\n  console.log(\"HEADERS =>\", req.headers);\n  token = req.headers.authorization;\n  return token;\n};\n\n// JSON WEB TOKENS STRATEGY\npassport.use(new JwtStrategy({\n  jwtFromRequest: tokenExtractor,\n  secretOrKey: config.JWT_SECRET,\n  passReqToCallback: true\n}, async (req, payload, done) => {\n  var user;\n  try {\n    // Find the user specified in token\n    console.log(\"payload =>\", payload);\n    user = await Users.findById(payload.sub);\n    if (!user) {\n      return done(null, false);\n    }\n    done(null, user);\n    // Otherwise, return the\n  } catch (error) {\n    done(error, false);\n  }\n}));\n\n// LOCAL STRATEGY\npassport.use(new LocalStrategy({\n  usernameField: \"email\",\n  passwordField: \"password\",\n  passReqToCallback: true\n}, async (req, email, password, done) => {\n  let user;\n  try {\n    user = await Users.findOne({\n      email: email.toLowerCase().trim()\n    });\n    if (!user) {\n      return done(null, false, {\n        message: \"User not found..\"\n      });\n    }\n    const isMatch = await user.isValidPassword(password);\n    console.log(\"MATCH =>\", isMatch);\n    if (!isMatch) {\n      return done(null, false, {\n        message: \"Invalid Credentials...\"\n      });\n    }\n    done(null, user);\n    // If not, handle it\n  } catch (error) {\n    done(error, false);\n  }\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXNzcG9ydCIsInJlcXVpcmUiLCJKd3RTdHJhdGVneSIsIlN0cmF0ZWd5IiwiRXh0cmFjdEp3dCIsIkxvY2FsU3RyYXRlZ3kiLCJjb25maWciLCJVc2VycyIsInRva2VuRXh0cmFjdG9yIiwicmVxIiwidG9rZW4iLCJjb25zb2xlIiwibG9nIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ1c2UiLCJqd3RGcm9tUmVxdWVzdCIsInNlY3JldE9yS2V5IiwiSldUX1NFQ1JFVCIsInBhc3NSZXFUb0NhbGxiYWNrIiwicGF5bG9hZCIsImRvbmUiLCJ1c2VyIiwiZmluZEJ5SWQiLCJzdWIiLCJlcnJvciIsInVzZXJuYW1lRmllbGQiLCJwYXNzd29yZEZpZWxkIiwiZW1haWwiLCJwYXNzd29yZCIsImZpbmRPbmUiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJtZXNzYWdlIiwiaXNNYXRjaCIsImlzVmFsaWRQYXNzd29yZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3ByYWRlZXByZWRkeS9EZXNrdG9wL21pdHJhLXNlcnZlci8iLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhc3Nwb3J0ID0gcmVxdWlyZShcInBhc3Nwb3J0XCIpO1xuY29uc3QgSnd0U3RyYXRlZ3kgPSByZXF1aXJlKFwicGFzc3BvcnQtand0XCIpLlN0cmF0ZWd5O1xuY29uc3QgeyBFeHRyYWN0Snd0IH0gPSByZXF1aXJlKFwicGFzc3BvcnQtand0XCIpO1xuY29uc3QgTG9jYWxTdHJhdGVneSA9IHJlcXVpcmUoXCJwYXNzcG9ydC1sb2NhbFwiKS5TdHJhdGVneTtcbi8vIGNvbnN0IEdvb2dsZVRva2VuU3RyYXRlZ3kgPSByZXF1aXJlKCdwYXNzcG9ydC1nb29nbGUtdG9rZW4nKS5TdHJhdGVneTtcbi8vIGNvbnN0IEZhY2Vib29rVG9rZW5TdHJhdGVneSA9IHJlcXVpcmUoJ3Bhc3Nwb3J0LWZhY2Vib29rLXRva2VuJyk7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiLi9jb25maWd1cmF0aW9uXCIpO1xuY29uc3QgVXNlcnMgPSByZXF1aXJlKFwiLi9tb2RlbHMvdXNlcnNcIik7XG5cbmNvbnN0IHRva2VuRXh0cmFjdG9yID0gKHJlcSkgPT4ge1xuICBsZXQgdG9rZW4gPSBudWxsO1xuICBjb25zb2xlLmxvZyhcIkhFQURFUlMgPT5cIiwgcmVxLmhlYWRlcnMpO1xuICB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gIHJldHVybiB0b2tlbjtcbn07XG5cbi8vIEpTT04gV0VCIFRPS0VOUyBTVFJBVEVHWVxucGFzc3BvcnQudXNlKFxuICBuZXcgSnd0U3RyYXRlZ3koXG4gICAge1xuICAgICAgand0RnJvbVJlcXVlc3Q6IHRva2VuRXh0cmFjdG9yLFxuICAgICAgc2VjcmV0T3JLZXk6IGNvbmZpZy5KV1RfU0VDUkVULFxuICAgICAgcGFzc1JlcVRvQ2FsbGJhY2s6IHRydWUsXG4gICAgfSxcbiAgICBhc3luYyAocmVxLCBwYXlsb2FkLCBkb25lKSA9PiB7XG4gICAgICB2YXIgdXNlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIHVzZXIgc3BlY2lmaWVkIGluIHRva2VuXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGF5bG9hZCA9PlwiLCBwYXlsb2FkKTtcbiAgICAgICAgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeUlkKHBheWxvYWQuc3ViKTtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGRvbmUobnVsbCwgdXNlcik7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgcmV0dXJuIHRoZVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZG9uZShlcnJvciwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgKVxuKTtcblxuLy8gTE9DQUwgU1RSQVRFR1lcbnBhc3Nwb3J0LnVzZShcbiAgbmV3IExvY2FsU3RyYXRlZ3koXG4gICAge1xuICAgICAgdXNlcm5hbWVGaWVsZDogXCJlbWFpbFwiLFxuICAgICAgcGFzc3dvcmRGaWVsZDogXCJwYXNzd29yZFwiLFxuICAgICAgcGFzc1JlcVRvQ2FsbGJhY2s6IHRydWUsXG4gICAgfSxcbiAgICBhc3luYyAocmVxLCBlbWFpbCwgcGFzc3dvcmQsIGRvbmUpID0+IHtcbiAgICAgIGxldCB1c2VyO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRPbmUoeyBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKS50cmltKCkgfSk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7IG1lc3NhZ2U6IFwiVXNlciBub3QgZm91bmQuLlwiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzTWF0Y2ggPSBhd2FpdCB1c2VyLmlzVmFsaWRQYXNzd29yZChwYXNzd29yZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTUFUQ0ggPT5cIiwgaXNNYXRjaCk7XG4gICAgICAgIGlmICghaXNNYXRjaCkge1xuICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7IG1lc3NhZ2U6IFwiSW52YWxpZCBDcmVkZW50aWFscy4uLlwiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRvbmUobnVsbCwgdXNlcik7XG4gICAgICAgIC8vIElmIG5vdCwgaGFuZGxlIGl0XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBkb25lKGVycm9yLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICApXG4pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQ0UsUUFBUTtBQUNwRCxNQUFNO0VBQUVDO0FBQVcsQ0FBQyxHQUFHSCxPQUFPLENBQUMsY0FBYyxDQUFD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","map":{"version":3,"names":["passport","require","JwtStrategy","Strategy","ExtractJwt","LocalStrategy","config","Users","tokenExtractor","req","token","console","log","headers","authorization","use","jwtFromRequest","secretOrKey","JWT_SECRET","passReqToCallback","payload","done","user","findById","sub","error","usernameField","passwordField","email","password","findOne","toLowerCase","trim","message","isMatch","isValidPassword"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/","sources":["passport.js"],"sourcesContent":["const passport = require(\"passport\");\nconst JwtStrategy = require(\"passport-jwt\").Strategy;\nconst { ExtractJwt } = require(\"passport-jwt\");\nconst LocalStrategy = require(\"passport-local\").Strategy;\n// const GoogleTokenStrategy = require('passport-google-token').Strategy;\n// const FacebookTokenStrategy = require('passport-facebook-token');\nconst config = require(\"./configuration\");\nconst Users = require(\"./models/users\");\n\nconst tokenExtractor = (req) => {\n  let token = null;\n  console.log(\"HEADERS =>\", req.headers);\n  token = req.headers.authorization;\n  return token;\n};\n\n// JSON WEB TOKENS STRATEGY\npassport.use(\n  new JwtStrategy(\n    {\n      jwtFromRequest: tokenExtractor,\n      secretOrKey: config.JWT_SECRET,\n      passReqToCallback: true,\n    },\n    async (req, payload, done) => {\n      var user;\n      try {\n        // Find the user specified in token\n        console.log(\"payload =>\", payload);\n        user = await Users.findById(payload.sub);\n        if (!user) {\n          return done(null, false);\n        }\n        done(null, user);\n        // Otherwise, return the\n      } catch (error) {\n        done(error, false);\n      }\n    }\n  )\n);\n\n// LOCAL STRATEGY\npassport.use(\n  new LocalStrategy(\n    {\n      usernameField: \"email\",\n      passwordField: \"password\",\n      passReqToCallback: true,\n    },\n    async (req, email, password, done) => {\n      let user;\n      try {\n        user = await Users.findOne({ email: email.toLowerCase().trim() });\n        if (!user) {\n          return done(null, false, { message: \"User not found..\" });\n        }\n        const isMatch = await user.isValidPassword(password);\n        console.log(\"MATCH =>\", isMatch);\n        if (!isMatch) {\n          return done(null, false, { message: \"Invalid Credentials...\" });\n        }\n        done(null, user);\n        // If not, handle it\n      } catch (error) {\n        done(error, false);\n      }\n    }\n  )\n);\n"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,WAAW,GAAGD,OAAO,CAAC,cAAc,CAAC,CAACE,QAAQ;AACpD,MAAM;EAAEC;AAAW,CAAC,GAAGH,OAAO,CAAC,cAAc,CAAC;AAC9C,MAAMI,aAAa,GAAGJ,OAAO,CAAC,gBAAgB,CAAC,CAACE,QAAQ;AACxD;AACA;AACA,MAAMG,MAAM,GAAGL,OAAO,CAAC,iBAAiB,CAAC;AACzC,MAAMM,KAAK,GAAGN,OAAO,CAAC,gBAAgB,CAAC;AAEvC,MAAMO,cAAc,GAAIC,GAAG,IAAK;EAC9B,IAAIC,KAAK,GAAG,IAAI;EAChBC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEH,GAAG,CAACI,OAAO,CAAC;EACtCH,KAAK,GAAGD,GAAG,CAACI,OAAO,CAACC,aAAa;EACjC,OAAOJ,KAAK;AACd,CAAC;;AAED;AACAV,QAAQ,CAACe,GAAG,CACV,IAAIb,WAAW,CACb;EACEc,cAAc,EAAER,cAAc;EAC9BS,WAAW,EAAEX,MAAM,CAACY,UAAU;EAC9BC,iBAAiB,EAAE;AACrB,CAAC,EACD,OAAOV,GAAG,EAAEW,OAAO,EAAEC,IAAI,KAAK;EAC5B,IAAIC,IAAI;EACR,IAAI;IACF;IACAX,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEQ,OAAO,CAAC;IAClCE,IAAI,GAAG,MAAMf,KAAK,CAACgB,QAAQ,CAACH,OAAO,CAACI,GAAG,CAAC;IACxC,IAAI,CAACF,IAAI,EAAE;MACT,OAAOD,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;IAC1B;IACAA,IAAI,CAAC,IAAI,EAAEC,IAAI,CAAC;IAChB;EACF,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdJ,IAAI,CAACI,KAAK,EAAE,KAAK,CAAC;EACpB;AACF,CACF,CACF,CAAC;;AAED;AACAzB,QAAQ,CAACe,GAAG,CACV,IAAIV,aAAa,CACf;EACEqB,aAAa,EAAE,OAAO;EACtBC,aAAa,EAAE,UAAU;EACzBR,iBAAiB,EAAE;AACrB,CAAC,EACD,OAAOV,GAAG,EAAEmB,KAAK,EAAEC,QAAQ,EAAER,IAAI,KAAK;EACpC,IAAIC,IAAI;EACR,IAAI;IACFA,IAAI,GAAG,MAAMf,KAAK,CAACuB,OAAO,CAAC;MAAEF,KAAK,EAAEA,KAAK,CAACG,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC;IAAE,CAAC,CAAC;IACjE,IAAI,CAACV,IAAI,EAAE;MACT,OAAOD,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;QAAEY,OAAO,EAAE;MAAmB,CAAC,CAAC;IAC3D;IACA,MAAMC,OAAO,GAAG,MAAMZ,IAAI,CAACa,eAAe,CAACN,QAAQ,CAAC;IACpDlB,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEsB,OAAO,CAAC;IAChC,IAAI,CAACA,OAAO,EAAE;MACZ,OAAOb,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;QAAEY,OAAO,EAAE;MAAyB,CAAC,CAAC;IACjE;IACAZ,IAAI,CAAC,IAAI,EAAEC,IAAI,CAAC;IAChB;EACF,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdJ,IAAI,CAACI,KAAK,EAAE,KAAK,CAAC;EACpB;AACF,CACF,CACF,CAAC"}},"mtime":1683646995036},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/models/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require(\"mongoose\");\nconst bcrypt = require(\"bcryptjs\");\nconst Schema = mongoose.Schema;\n\n// Create a schema\nconst userSchema = new Schema({\n  name: String,\n  email: String,\n  phone: Number,\n  role: String,\n  password: String,\n  dob: String,\n  gender: String,\n  createdBy: {\n    type: Schema.Types.ObjectId,\n    ref: \"users\"\n  },\n  modifiedBy: {\n    type: Schema.Types.ObjectId,\n    ref: \"users\"\n  }\n}, {\n  timestamps: true\n});\nuserSchema.pre(\"save\", async function (next) {\n  try {\n    const user = this;\n    //check if the admin has been modified to know if the password has already been hashed\n    if (!user.isModified(\"password\")) {\n      next();\n    }\n    // Generate a salt\n    const salt = await bcrypt.genSalt(10);\n    // Generate a password hash (salt + hash)\n    console.log(\"Password =>\", this.password);\n    this.password = await bcrypt.hash(this.password, salt);\n    console.log(\"exited\");\n    next();\n  } catch (error) {\n    next(error);\n  }\n});\nuserSchema.pre(\"findOneAndUpdate\", function (next) {\n  if (!this._update.password) {\n    return next();\n  }\n  this._update.password = bcrypt.hashSync(this._update.password, 10);\n  next();\n});\nuserSchema.methods.isValidPassword = async function (newPassword) {\n  console.log(newPassword, this.password);\n  try {\n    return await bcrypt.compare(newPassword, this.password);\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\n// Create a model\nconst Users = mongoose.model(\"users\", userSchema, \"users\");\n\n// Export the model\nmodule.exports = Users;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJTY2hlbWEiLCJ1c2VyU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsImVtYWlsIiwicGhvbmUiLCJOdW1iZXIiLCJyb2xlIiwicGFzc3dvcmQiLCJkb2IiLCJnZW5kZXIiLCJjcmVhdGVkQnkiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsIm1vZGlmaWVkQnkiLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsInVzZXIiLCJpc01vZGlmaWVkIiwic2FsdCIsImdlblNhbHQiLCJjb25zb2xlIiwibG9nIiwiaGFzaCIsImVycm9yIiwiX3VwZGF0ZSIsImhhc2hTeW5jIiwibWV0aG9kcyIsImlzVmFsaWRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwiY29tcGFyZSIsIkVycm9yIiwiVXNlcnMiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9wcmFkZWVwcmVkZHkvRGVza3RvcC9taXRyYS1zZXJ2ZXIvbW9kZWxzLyIsInNvdXJjZXMiOlsidXNlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0anNcIik7XG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbi8vIENyZWF0ZSBhIHNjaGVtYVxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoXG4gIHtcbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgZW1haWw6IFN0cmluZyxcbiAgICBwaG9uZTogTnVtYmVyLFxuICAgIHJvbGU6IFN0cmluZyxcbiAgICBwYXNzd29yZDogU3RyaW5nLFxuICAgIGRvYjogU3RyaW5nLFxuICAgIGdlbmRlcjogU3RyaW5nLFxuICAgIGNyZWF0ZWRCeTogeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJ1c2Vyc1wiIH0sXG4gICAgbW9kaWZpZWRCeTogeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJ1c2Vyc1wiIH0sXG4gIH0sXG4gIHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxuICB9XG4pO1xuXG51c2VyU2NoZW1hLnByZShcInNhdmVcIiwgYXN5bmMgZnVuY3Rpb24gKG5leHQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gdGhpcztcbiAgICAvL2NoZWNrIGlmIHRoZSBhZG1pbiBoYXMgYmVlbiBtb2RpZmllZCB0byBrbm93IGlmIHRoZSBwYXNzd29yZCBoYXMgYWxyZWFkeSBiZWVuIGhhc2hlZFxuICAgIGlmICghdXNlci5pc01vZGlmaWVkKFwicGFzc3dvcmRcIikpIHtcbiAgICAgIG5leHQoKTtcbiAgICB9XG4gICAgLy8gR2VuZXJhdGUgYSBzYWx0XG4gICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcbiAgICAvLyBHZW5lcmF0ZSBhIHBhc3N3b3JkIGhhc2ggKHNhbHQgKyBoYXNoKVxuICAgIGNvbnNvbGUubG9nKFwiUGFzc3dvcmQgPT5cIiwgdGhpcy5wYXNzd29yZCk7XG4gICAgdGhpcy5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIHNhbHQpO1xuICAgIGNvbnNvbGUubG9nKFwiZXhpdGVkXCIpO1xuICAgIG5leHQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufSk7XG51c2VyU2NoZW1hLnByZShcImZpbmRPbmVBbmRVcGRhdGVcIiwgZnVuY3Rpb24gKG5leHQpIHtcbiAgaWYgKCF0aGlzLl91cGRhdGUucGFzc3dvcmQpIHtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9XG4gIHRoaXMuX3VwZGF0ZS5wYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYyh0aGlzLl91cGRhdGUucGFzc3dvcmQsIDEwKTtcbiAgbmV4dCgpO1xufSk7XG51c2VyU2NoZW1hLm1ldGhvZHMuaXNWYWxpZFBhc3N3b3JkID0gYXN5bmMgZnVuY3Rpb24gKG5ld1Bhc3N3b3JkKSB7XG4gIGNvbnNvbGUubG9nKG5ld1Bhc3N3b3JkLCB0aGlzLnBhc3N3b3JkKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUobmV3UGFzc3dvcmQsIHRoaXMucGFzc3dvcmQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbi8vIENyZWF0ZSBhIG1vZGVsXG5jb25zdCBVc2VycyA9IG1vbmdvb3NlLm1vZGVsKFwidXNlcnNcIiwgdXNlclNjaGVtYSwgXCJ1c2Vyc1wiKTtcblxuLy8gRXhwb3J0IHRoZSBtb2RlbFxubW9kdWxlLmV4cG9ydHMgPSBVc2VycztcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDcEMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLE1BQU1FLE1BQU0sR0FBR0gsUUFBUSxDQUFDRyxNQUFNOztBQUU5QjtBQUNBLE1BQU1DLFVBQVUsR0FBRyxJQUFJRCxNQUFNLENBQzNCO0VBQ0VFLElBQUksRUFBRUMsTUFBTTtFQUNaQyxLQUFLLEVBQUVELE1BQU07RUFDYkUsS0FBSyxFQUFFQyxNQUFNO0VBQ2JDLElBQUksRUFBRUosTUFBTTtFQUNaSyxRQUFRLEVBQUVMLE1BQU07RUFDaEJNLEdBQUcsRUFBRU4sTUFBTTtFQUNYTyxNQUFNLEVBQUVQLE1BQU07RUFDZFEsU0FBUyxFQUFFO0lBQUVDLElBQUksRUFBRVosTUFBTSxDQUFDYSxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQVEsQ0FBQztFQUN4REMsVUFBVSxFQUFFO0lBQUVKLElBQUksRUFBRVosTUFBTSxDQUFDYSxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQVE7QUFDMUQsQ0FBQyxFQUNEO0VBQ0VFLFVBQVUsRUFBRTtBQUNkLENBQ0YsQ0FBQztBQUVEaEIsVUFBVSxDQUFDaUIsR0FBRyxDQUFDLE1BQU0sRUFBRSxnQkFBZ0JDLElBQUksRUFBRTtFQUMzQyxJQUFJO0lBQ0YsTUFBTUMsSUFBSSxHQUFHLElBQUk7SUFDakI7SUFDQSxJQUFJLENBQUNBLElBQUksQ0FBQ0MsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFO01BQ2hDRixJQUFJLENBQUMsQ0FBQztJQUNSO0lBQ0E7SUFDQSxNQUFNRyxJQUFJLEdBQUcsTUFBTXZCLE1BQU0sQ0FBQ3dCLE9BQU8sQ0FBQyxFQUFFLENBQUM7SUFDckM7SUFDQUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQ2pCLFFBQVEsQ0FBQztJQUN6QyxJQUFJLENBQUNBLFFBQVEsR0FBRyxNQUFNVCxNQUFNLENBQUMyQixJQUFJLENBQUMsSUFBSSxDQUFDbEIsUUFBUSxFQUFFYyxJQUFJLENBQUM7SUFDdERFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztJQUNyQk4sSUFBSSxDQUFDLENBQUM7RUFDUixDQUFDLENBQUMsT0FBT1EsS0FBSyxFQUFFO0lBQ2RSLElBQUksQ0FBQ1EsS0FBSyxDQUFDO0VBQ2I7QUFDRixDQUFDLENBQUM7QUFDRjFCLFVBQVUsQ0FBQ2lCLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxVQUFVQyxJQUFJLEVBQUU7RUFDakQsSUFBSSxDQUFDLElBQUksQ0FBQ1MsT0FBTyxDQUFDcEIsUUFBUSxFQUFFO0lBQzFCLE9BQU9XLElBQUksQ0FBQyxDQUFDO0VBQ2Y7RUFDQSxJQUFJLENBQUNTLE9BQU8sQ0FBQ3BCLFFBQVEsR0FBR1QsTUFBTSxDQUFDOEIsUUFBUSxDQUFDLElBQUksQ0FBQ0QsT0FBTyxDQUFDcEIsUUFBUSxFQUFFLEVBQUUsQ0FBQztFQUNsRVcsSUFBSSxDQUFDLENBQUM7QUFDUixDQUFDLENBQUM7QUFDRmxCLFVBQVUsQ0FBQzZCLE9BQU8sQ0FBQ0MsZUFBZSxHQUFHLGdCQUFnQkMsV0FBVyxFQUFFO0VBQ2hFUixPQUFPLENBQUNDLEdBQUcsQ0FBQ08sV0FBVyxFQUFFLElBQUksQ0FBQ3hCLFFBQVEsQ0FBQztFQUN2QyxJQUFJO0lBQ0YsT0FBTyxNQUFNVCxNQUFNLENBQUNrQyxPQUFPLENBQUNELFdBQVcsRUFBRSxJQUFJLENBQUN4QixRQUFRLENBQUM7RUFDekQsQ0FBQyxDQUFDLE9BQU9tQixLQUFLLEVBQUU7SUFDZCxNQUFNLElBQUlPLEtBQUssQ0FBQ1AsS0FBSyxDQUFDO0VBQ3hCO0FBQ0YsQ0FBQzs7QUFFRDtBQUNBLE1BQU1RLEtBQUssR0FBR3RDLFFBQVEsQ0FBQ3VDLEtBQUssQ0FBQyxPQUFPLEVBQUVuQyxVQUFVLEVBQUUsT0FBTyxDQUFDOztBQUUxRDtBQUNBb0MsTUFBTSxDQUFDQyxPQUFPLEdBQUdILEtBQUsifQ==","map":{"version":3,"names":["mongoose","require","bcrypt","Schema","userSchema","name","String","email","phone","Number","role","password","dob","gender","createdBy","type","Types","ObjectId","ref","modifiedBy","timestamps","pre","next","user","isModified","salt","genSalt","console","log","hash","error","_update","hashSync","methods","isValidPassword","newPassword","compare","Error","Users","model","module","exports"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/models/","sources":["users.js"],"sourcesContent":["const mongoose = require(\"mongoose\");\nconst bcrypt = require(\"bcryptjs\");\nconst Schema = mongoose.Schema;\n\n// Create a schema\nconst userSchema = new Schema(\n  {\n    name: String,\n    email: String,\n    phone: Number,\n    role: String,\n    password: String,\n    dob: String,\n    gender: String,\n    createdBy: { type: Schema.Types.ObjectId, ref: \"users\" },\n    modifiedBy: { type: Schema.Types.ObjectId, ref: \"users\" },\n  },\n  {\n    timestamps: true,\n  }\n);\n\nuserSchema.pre(\"save\", async function (next) {\n  try {\n    const user = this;\n    //check if the admin has been modified to know if the password has already been hashed\n    if (!user.isModified(\"password\")) {\n      next();\n    }\n    // Generate a salt\n    const salt = await bcrypt.genSalt(10);\n    // Generate a password hash (salt + hash)\n    console.log(\"Password =>\", this.password);\n    this.password = await bcrypt.hash(this.password, salt);\n    console.log(\"exited\");\n    next();\n  } catch (error) {\n    next(error);\n  }\n});\nuserSchema.pre(\"findOneAndUpdate\", function (next) {\n  if (!this._update.password) {\n    return next();\n  }\n  this._update.password = bcrypt.hashSync(this._update.password, 10);\n  next();\n});\nuserSchema.methods.isValidPassword = async function (newPassword) {\n  console.log(newPassword, this.password);\n  try {\n    return await bcrypt.compare(newPassword, this.password);\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\n// Create a model\nconst Users = mongoose.model(\"users\", userSchema, \"users\");\n\n// Export the model\nmodule.exports = Users;\n"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAU,CAAC;AAClC,MAAME,MAAM,GAAGH,QAAQ,CAACG,MAAM;;AAE9B;AACA,MAAMC,UAAU,GAAG,IAAID,MAAM,CAC3B;EACEE,IAAI,EAAEC,MAAM;EACZC,KAAK,EAAED,MAAM;EACbE,KAAK,EAAEC,MAAM;EACbC,IAAI,EAAEJ,MAAM;EACZK,QAAQ,EAAEL,MAAM;EAChBM,GAAG,EAAEN,MAAM;EACXO,MAAM,EAAEP,MAAM;EACdQ,SAAS,EAAE;IAAEC,IAAI,EAAEZ,MAAM,CAACa,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAQ,CAAC;EACxDC,UAAU,EAAE;IAAEJ,IAAI,EAAEZ,MAAM,CAACa,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAQ;AAC1D,CAAC,EACD;EACEE,UAAU,EAAE;AACd,CACF,CAAC;AAEDhB,UAAU,CAACiB,GAAG,CAAC,MAAM,EAAE,gBAAgBC,IAAI,EAAE;EAC3C,IAAI;IACF,MAAMC,IAAI,GAAG,IAAI;IACjB;IACA,IAAI,CAACA,IAAI,CAACC,UAAU,CAAC,UAAU,CAAC,EAAE;MAChCF,IAAI,CAAC,CAAC;IACR;IACA;IACA,MAAMG,IAAI,GAAG,MAAMvB,MAAM,CAACwB,OAAO,CAAC,EAAE,CAAC;IACrC;IACAC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAE,IAAI,CAACjB,QAAQ,CAAC;IACzC,IAAI,CAACA,QAAQ,GAAG,MAAMT,MAAM,CAAC2B,IAAI,CAAC,IAAI,CAAClB,QAAQ,EAAEc,IAAI,CAAC;IACtDE,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACrBN,IAAI,CAAC,CAAC;EACR,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdR,IAAI,CAACQ,KAAK,CAAC;EACb;AACF,CAAC,CAAC;AACF1B,UAAU,CAACiB,GAAG,CAAC,kBAAkB,EAAE,UAAUC,IAAI,EAAE;EACjD,IAAI,CAAC,IAAI,CAACS,OAAO,CAACpB,QAAQ,EAAE;IAC1B,OAAOW,IAAI,CAAC,CAAC;EACf;EACA,IAAI,CAACS,OAAO,CAACpB,QAAQ,GAAGT,MAAM,CAAC8B,QAAQ,CAAC,IAAI,CAACD,OAAO,CAACpB,QAAQ,EAAE,EAAE,CAAC;EAClEW,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AACFlB,UAAU,CAAC6B,OAAO,CAACC,eAAe,GAAG,gBAAgBC,WAAW,EAAE;EAChER,OAAO,CAACC,GAAG,CAACO,WAAW,EAAE,IAAI,CAACxB,QAAQ,CAAC;EACvC,IAAI;IACF,OAAO,MAAMT,MAAM,CAACkC,OAAO,CAACD,WAAW,EAAE,IAAI,CAACxB,QAAQ,CAAC;EACzD,CAAC,CAAC,OAAOmB,KAAK,EAAE;IACd,MAAM,IAAIO,KAAK,CAACP,KAAK,CAAC;EACxB;AACF,CAAC;;AAED;AACA,MAAMQ,KAAK,GAAGtC,QAAQ,CAACuC,KAAK,CAAC,OAAO,EAAEnC,UAAU,EAAE,OAAO,CAAC;;AAE1D;AACAoC,MAAM,CAACC,OAAO,GAAGH,KAAK"}},"mtime":1682618255091},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/configuration/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/configuration/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  MONGODB_CONN_STR: \"mongodb+srv://mitrasocietycorp:qySFrF54Mu40J7z7@cluster0.yg04ycc.mongodb.net/mitra\",\n  JWT_SECRET: \"pradeepreddychada\",\n  oauth: {\n    google: {\n      clientID: \"338601550454-1u2bn4i06l30sn0brqgshlqu3jnn7f2h.apps.googleusercontent.com\",\n      clientSecret: \"n3HF4pWz42Q6qP9p6DksNxCO\"\n    },\n    facebook: {\n      clientID: \"2273900542721665\",\n      clientSecret: \"13c6f5d78a2c8c683c1e26d30e9f5583\"\n    }\n  },\n  EMAIL_CONFIG: {\n    host: \"smtpout.secureserver.net\",\n    secure: true,\n    secureConnection: false,\n    // TLS requires secureConnection to be false\n    tls: {\n      ciphers: \"SSLv3\"\n    },\n    requireTLS: true,\n    port: 465,\n    debug: true,\n    auth: {\n      user: \"info@honeybag.in\",\n      pass: \"HoneyBag@2020\"\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiTU9OR09EQl9DT05OX1NUUiIsIkpXVF9TRUNSRVQiLCJvYXV0aCIsImdvb2dsZSIsImNsaWVudElEIiwiY2xpZW50U2VjcmV0IiwiZmFjZWJvb2siLCJFTUFJTF9DT05GSUciLCJob3N0Iiwic2VjdXJlIiwic2VjdXJlQ29ubmVjdGlvbiIsInRscyIsImNpcGhlcnMiLCJyZXF1aXJlVExTIiwicG9ydCIsImRlYnVnIiwiYXV0aCIsInVzZXIiLCJwYXNzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvcHJhZGVlcHJlZGR5L0Rlc2t0b3AvbWl0cmEtc2VydmVyL2NvbmZpZ3VyYXRpb24vIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBNT05HT0RCX0NPTk5fU1RSOiBcIm1vbmdvZGIrc3J2Oi8vbWl0cmFzb2NpZXR5Y29ycDpxeVNGckY1NE11NDBKN3o3QGNsdXN0ZXIwLnlnMDR5Y2MubW9uZ29kYi5uZXQvbWl0cmFcIixcbiAgICBKV1RfU0VDUkVUOiBcInByYWRlZXByZWRkeWNoYWRhXCIsXG4gICAgb2F1dGg6IHtcbiAgICAgIGdvb2dsZToge1xuICAgICAgICBjbGllbnRJRDogXCIzMzg2MDE1NTA0NTQtMXUyYm40aTA2bDMwc24wYnJxZ3NobHF1M2pubjdmMmguYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIixcbiAgICAgICAgY2xpZW50U2VjcmV0OiBcIm4zSEY0cFd6NDJRNnFQOXA2RGtzTnhDT1wiLFxuICAgICAgfSxcbiAgICAgIGZhY2Vib29rOiB7XG4gICAgICAgIGNsaWVudElEOiBcIjIyNzM5MDA1NDI3MjE2NjVcIixcbiAgICAgICAgY2xpZW50U2VjcmV0OiBcIjEzYzZmNWQ3OGEyYzhjNjgzYzFlMjZkMzBlOWY1NTgzXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgRU1BSUxfQ09ORklHOiB7XG4gICAgICBob3N0OiBcInNtdHBvdXQuc2VjdXJlc2VydmVyLm5ldFwiLFxuICAgICAgc2VjdXJlOiB0cnVlLFxuICAgICAgc2VjdXJlQ29ubmVjdGlvbjogZmFsc2UsIC8vIFRMUyByZXF1aXJlcyBzZWN1cmVDb25uZWN0aW9uIHRvIGJlIGZhbHNlXG4gICAgICB0bHM6IHtcbiAgICAgICAgY2lwaGVyczogXCJTU0x2M1wiLFxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVUTFM6IHRydWUsXG4gICAgICBwb3J0OiA0NjUsXG4gICAgICBkZWJ1ZzogdHJ1ZSxcbiAgICAgIGF1dGg6IHtcbiAgICAgICAgdXNlcjogXCJpbmZvQGhvbmV5YmFnLmluXCIsXG4gICAgICAgIHBhc3M6IFwiSG9uZXlCYWdAMjAyMFwiLFxuICAgICAgfSxcbiAgICB9LFxuICB9O1xuICAiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2JDLGdCQUFnQixFQUFFLG9GQUFvRjtFQUN0R0MsVUFBVSxFQUFFLG1CQUFtQjtFQUMvQkMsS0FBSyxFQUFFO0lBQ0xDLE1BQU0sRUFBRTtNQUNOQyxRQUFRLEVBQUUsMEVBQTBFO01BQ3BGQyxZQUFZLEVBQUU7SUFDaEIsQ0FBQztJQUNEQyxRQUFRLEVBQUU7TUFDUkYsUUFBUSxFQUFFLGtCQUFrQjtNQUM1QkMsWUFBWSxFQUFFO0lBQ2hCO0VBQ0YsQ0FBQztFQUNERSxZQUFZLEVBQUU7SUFDWkMsSUFBSSxFQUFFLDBCQUEwQjtJQUNoQ0MsTUFBTSxFQUFFLElBQUk7SUFDWkMsZ0JBQWdCLEVBQUUsS0FBSztJQUFFO0lBQ3pCQyxHQUFHLEVBQUU7TUFDSEMsT0FBTyxFQUFFO0lBQ1gsQ0FBQztJQUNEQyxVQUFVLEVBQUUsSUFBSTtJQUNoQkMsSUFBSSxFQUFFLEdBQUc7SUFDVEMsS0FBSyxFQUFFLElBQUk7SUFDWEMsSUFBSSxFQUFFO01BQ0pDLElBQUksRUFBRSxrQkFBa0I7TUFDeEJDLElBQUksRUFBRTtJQUNSO0VBQ0Y7QUFDRixDQUFDIn0=","map":{"version":3,"names":["module","exports","MONGODB_CONN_STR","JWT_SECRET","oauth","google","clientID","clientSecret","facebook","EMAIL_CONFIG","host","secure","secureConnection","tls","ciphers","requireTLS","port","debug","auth","user","pass"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/configuration/","sources":["index.js"],"sourcesContent":["module.exports = {\n    MONGODB_CONN_STR: \"mongodb+srv://mitrasocietycorp:qySFrF54Mu40J7z7@cluster0.yg04ycc.mongodb.net/mitra\",\n    JWT_SECRET: \"pradeepreddychada\",\n    oauth: {\n      google: {\n        clientID: \"338601550454-1u2bn4i06l30sn0brqgshlqu3jnn7f2h.apps.googleusercontent.com\",\n        clientSecret: \"n3HF4pWz42Q6qP9p6DksNxCO\",\n      },\n      facebook: {\n        clientID: \"2273900542721665\",\n        clientSecret: \"13c6f5d78a2c8c683c1e26d30e9f5583\",\n      },\n    },\n    EMAIL_CONFIG: {\n      host: \"smtpout.secureserver.net\",\n      secure: true,\n      secureConnection: false, // TLS requires secureConnection to be false\n      tls: {\n        ciphers: \"SSLv3\",\n      },\n      requireTLS: true,\n      port: 465,\n      debug: true,\n      auth: {\n        user: \"info@honeybag.in\",\n        pass: \"HoneyBag@2020\",\n      },\n    },\n  };\n  "],"mappings":";;AAAAA,MAAM,CAACC,OAAO,GAAG;EACbC,gBAAgB,EAAE,oFAAoF;EACtGC,UAAU,EAAE,mBAAmB;EAC/BC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,QAAQ,EAAE,0EAA0E;MACpFC,YAAY,EAAE;IAChB,CAAC;IACDC,QAAQ,EAAE;MACRF,QAAQ,EAAE,kBAAkB;MAC5BC,YAAY,EAAE;IAChB;EACF,CAAC;EACDE,YAAY,EAAE;IACZC,IAAI,EAAE,0BAA0B;IAChCC,MAAM,EAAE,IAAI;IACZC,gBAAgB,EAAE,KAAK;IAAE;IACzBC,GAAG,EAAE;MACHC,OAAO,EAAE;IACX,CAAC;IACDC,UAAU,EAAE,IAAI;IAChBC,IAAI,EAAE,GAAG;IACTC,KAAK,EAAE,IAAI;IACXC,IAAI,EAAE;MACJC,IAAI,EAAE,kBAAkB;MACxBC,IAAI,EAAE;IACR;EACF;AACF,CAAC"}},"mtime":1682755520212},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/routes/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nconst express = require(\"express\");\nconst router = require(\"express-promise-router\")();\nconst passport = require(\"passport\");\nconst passportConf = require(\"../passport\");\nconst {\n  validateBody,\n  schemas,\n  validateParams\n} = require(\"../helpers/routeHelpers\");\nconst UserController = require(\"../controllers/users\");\nconst passportSignIn = passport.authenticate(\"local\", {\n  session: false\n});\nconst passportJWT = passport.authenticate(\"jwt\", {\n  session: false\n});\nvar os = require(\"os\");\nrouter.route(\"/signin\").post(validateBody(schemas.loginSchema), passportSignIn, UserController.signIn);\nrouter.route(\"/\").post(validateBody(schemas.userSchema), UserController.createUser);\nrouter.route(\"/:id\").delete(passportJWT, UserController.deleteUser);\nrouter.route(\"/:id\").put(passportJWT, UserController.updateUser);\nrouter.route(\"/\").get(passportJWT, UserController.getUsers);\nrouter.route(\"/profile\").get(passportJWT, UserController.getProfile);\nrouter.route(\"/profile/update\").put(passportJWT, UserController.updateProfile);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsInBhc3Nwb3J0IiwicGFzc3BvcnRDb25mIiwidmFsaWRhdGVCb2R5Iiwic2NoZW1hcyIsInZhbGlkYXRlUGFyYW1zIiwiVXNlckNvbnRyb2xsZXIiLCJwYXNzcG9ydFNpZ25JbiIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJwYXNzcG9ydEpXVCIsIm9zIiwicm91dGUiLCJwb3N0IiwibG9naW5TY2hlbWEiLCJzaWduSW4iLCJ1c2VyU2NoZW1hIiwiY3JlYXRlVXNlciIsImRlbGV0ZSIsImRlbGV0ZVVzZXIiLCJwdXQiLCJ1cGRhdGVVc2VyIiwiZ2V0IiwiZ2V0VXNlcnMiLCJnZXRQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9wcmFkZWVwcmVkZHkvRGVza3RvcC9taXRyYS1zZXJ2ZXIvcm91dGVzLyIsInNvdXJjZXMiOlsidXNlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3Qgcm91dGVyID0gcmVxdWlyZShcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIikoKTtcbmNvbnN0IHBhc3Nwb3J0ID0gcmVxdWlyZShcInBhc3Nwb3J0XCIpO1xuY29uc3QgcGFzc3BvcnRDb25mID0gcmVxdWlyZShcIi4uL3Bhc3Nwb3J0XCIpO1xuY29uc3QgeyB2YWxpZGF0ZUJvZHksIHNjaGVtYXMsIHZhbGlkYXRlUGFyYW1zIH0gPSByZXF1aXJlKFwiLi4vaGVscGVycy9yb3V0ZUhlbHBlcnNcIik7XG5jb25zdCBVc2VyQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy91c2Vyc1wiKTtcbmNvbnN0IHBhc3Nwb3J0U2lnbkluID0gcGFzc3BvcnQuYXV0aGVudGljYXRlKFwibG9jYWxcIiwgeyBzZXNzaW9uOiBmYWxzZSB9KTtcbmNvbnN0IHBhc3Nwb3J0SldUID0gcGFzc3BvcnQuYXV0aGVudGljYXRlKFwiand0XCIsIHsgc2Vzc2lvbjogZmFsc2UgfSk7XG52YXIgb3MgPSByZXF1aXJlKFwib3NcIik7XG5cblxucm91dGVyXG4gIC5yb3V0ZShcIi9zaWduaW5cIilcbiAgLnBvc3QodmFsaWRhdGVCb2R5KHNjaGVtYXMubG9naW5TY2hlbWEpLCBwYXNzcG9ydFNpZ25JbiwgVXNlckNvbnRyb2xsZXIuc2lnbkluKTtcblxucm91dGVyXG4gIC5yb3V0ZShcIi9cIilcbiAgLnBvc3QodmFsaWRhdGVCb2R5KHNjaGVtYXMudXNlclNjaGVtYSksIFVzZXJDb250cm9sbGVyLmNyZWF0ZVVzZXIpO1xuXG5yb3V0ZXIucm91dGUoXCIvOmlkXCIpLmRlbGV0ZShwYXNzcG9ydEpXVCwgVXNlckNvbnRyb2xsZXIuZGVsZXRlVXNlcik7XG5cbnJvdXRlci5yb3V0ZShcIi86aWRcIikucHV0KHBhc3Nwb3J0SldULCBVc2VyQ29udHJvbGxlci51cGRhdGVVc2VyKTtcblxucm91dGVyLnJvdXRlKFwiL1wiKS5nZXQocGFzc3BvcnRKV1QsIFVzZXJDb250cm9sbGVyLmdldFVzZXJzKTtcblxucm91dGVyLnJvdXRlKFwiL3Byb2ZpbGVcIikuZ2V0KHBhc3Nwb3J0SldULCBVc2VyQ29udHJvbGxlci5nZXRQcm9maWxlKTtcblxucm91dGVyLnJvdXRlKFwiL3Byb2ZpbGUvdXBkYXRlXCIpLnB1dChwYXNzcG9ydEpXVCwgVXNlckNvbnRyb2xsZXIudXBkYXRlUHJvZmlsZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQztBQUNsRCxNQUFNRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDcEMsTUFBTUcsWUFBWSxHQUFHSCxPQUFPLENBQUMsYUFBYSxDQUFDO0FBQzNDLE1BQU07RUFBRUksWUFBWTtFQUFFQyxPQUFPO0VBQUVDO0FBQWUsQ0FBQyxHQUFHTixPQUFPLENBQUMseUJBQXlCLENBQUM7QUFDcEYsTUFBTU8sY0FBYyxHQUFHUCxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFDdEQsTUFBTVEsY0FBYyxHQUFHTixRQUFRLENBQUNPLFlBQVksQ0FBQyxPQUFPLEVBQUU7RUFBRUMsT0FBTyxFQUFFO0FBQU0sQ0FBQyxDQUFDO0FBQ3pFLE1BQU1DLFdBQVcsR0FBR1QsUUFBUSxDQUFDTyxZQUFZLENBQUMsS0FBSyxFQUFFO0VBQUVDLE9BQU8sRUFBRTtBQUFNLENBQUMsQ0FBQztBQUNwRSxJQUFJRSxFQUFFLEdBQUdaLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFHdEJDLE1BQU0sQ0FDSFksS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUNoQkMsSUFBSSxDQUFDVixZQUFZLENBQUNDLE9BQU8sQ0FBQ1UsV0FBVyxDQUFDLEVBQUVQLGNBQWMsRUFBRUQsY0FBYyxDQUFDUyxNQUFNLENBQUM7QUFFakZmLE1BQU0sQ0FDSFksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUNWQyxJQUFJLENBQUNWLFlBQVksQ0FBQ0MsT0FBTyxDQUFDWSxVQUFVLENBQUMsRUFBRVYsY0FBYyxDQUFDVyxVQUFVLENBQUM7QUFFcEVqQixNQUFNLENBQUNZLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQ00sTUFBTSxDQUFDUixXQUFXLEVBQUVKLGNBQWMsQ0FBQ2EsVUFBVSxDQUFDO0FBRW5FbkIsTUFBTSxDQUFDWSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUNRLEdBQUcsQ0FBQ1YsV0FBVyxFQUFFSixjQUFjLENBQUNlLFVBQVUsQ0FBQztBQUVoRXJCLE1BQU0sQ0FBQ1ksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDVSxHQUFHLENBQUNaLFdBQVcsRUFBRUosY0FBYyxDQUFDaUIsUUFBUSxDQUFDO0FBRTNEdkIsTUFBTSxDQUFDWSxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUNVLEdBQUcsQ0FBQ1osV0FBVyxFQUFFSixjQUFjLENBQUNrQixVQUFVLENBQUM7QUFFcEV4QixNQUFNLENBQUNZLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDUSxHQUFHLENBQUNWLFdBQVcsRUFBRUosY0FBYyxDQUFDbUIsYUFBYSxDQUFDO0FBRTlFQyxNQUFNLENBQUNDLE9BQU8sR0FBRzNCLE1BQU0ifQ==","map":{"version":3,"names":["express","require","router","passport","passportConf","validateBody","schemas","validateParams","UserController","passportSignIn","authenticate","session","passportJWT","os","route","post","loginSchema","signIn","userSchema","createUser","delete","deleteUser","put","updateUser","get","getUsers","getProfile","updateProfile","module","exports"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/routes/","sources":["users.js"],"sourcesContent":["const express = require(\"express\");\nconst router = require(\"express-promise-router\")();\nconst passport = require(\"passport\");\nconst passportConf = require(\"../passport\");\nconst { validateBody, schemas, validateParams } = require(\"../helpers/routeHelpers\");\nconst UserController = require(\"../controllers/users\");\nconst passportSignIn = passport.authenticate(\"local\", { session: false });\nconst passportJWT = passport.authenticate(\"jwt\", { session: false });\nvar os = require(\"os\");\n\n\nrouter\n  .route(\"/signin\")\n  .post(validateBody(schemas.loginSchema), passportSignIn, UserController.signIn);\n\nrouter\n  .route(\"/\")\n  .post(validateBody(schemas.userSchema), UserController.createUser);\n\nrouter.route(\"/:id\").delete(passportJWT, UserController.deleteUser);\n\nrouter.route(\"/:id\").put(passportJWT, UserController.updateUser);\n\nrouter.route(\"/\").get(passportJWT, UserController.getUsers);\n\nrouter.route(\"/profile\").get(passportJWT, UserController.getProfile);\n\nrouter.route(\"/profile/update\").put(passportJWT, UserController.updateProfile);\n\nmodule.exports = router;\n\n"],"mappings":";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGD,OAAO,CAAC,wBAAwB,CAAC,CAAC,CAAC;AAClD,MAAME,QAAQ,GAAGF,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMG,YAAY,GAAGH,OAAO,CAAC,aAAa,CAAC;AAC3C,MAAM;EAAEI,YAAY;EAAEC,OAAO;EAAEC;AAAe,CAAC,GAAGN,OAAO,CAAC,yBAAyB,CAAC;AACpF,MAAMO,cAAc,GAAGP,OAAO,CAAC,sBAAsB,CAAC;AACtD,MAAMQ,cAAc,GAAGN,QAAQ,CAACO,YAAY,CAAC,OAAO,EAAE;EAAEC,OAAO,EAAE;AAAM,CAAC,CAAC;AACzE,MAAMC,WAAW,GAAGT,QAAQ,CAACO,YAAY,CAAC,KAAK,EAAE;EAAEC,OAAO,EAAE;AAAM,CAAC,CAAC;AACpE,IAAIE,EAAE,GAAGZ,OAAO,CAAC,IAAI,CAAC;AAGtBC,MAAM,CACHY,KAAK,CAAC,SAAS,CAAC,CAChBC,IAAI,CAACV,YAAY,CAACC,OAAO,CAACU,WAAW,CAAC,EAAEP,cAAc,EAAED,cAAc,CAACS,MAAM,CAAC;AAEjFf,MAAM,CACHY,KAAK,CAAC,GAAG,CAAC,CACVC,IAAI,CAACV,YAAY,CAACC,OAAO,CAACY,UAAU,CAAC,EAAEV,cAAc,CAACW,UAAU,CAAC;AAEpEjB,MAAM,CAACY,KAAK,CAAC,MAAM,CAAC,CAACM,MAAM,CAACR,WAAW,EAAEJ,cAAc,CAACa,UAAU,CAAC;AAEnEnB,MAAM,CAACY,KAAK,CAAC,MAAM,CAAC,CAACQ,GAAG,CAACV,WAAW,EAAEJ,cAAc,CAACe,UAAU,CAAC;AAEhErB,MAAM,CAACY,KAAK,CAAC,GAAG,CAAC,CAACU,GAAG,CAACZ,WAAW,EAAEJ,cAAc,CAACiB,QAAQ,CAAC;AAE3DvB,MAAM,CAACY,KAAK,CAAC,UAAU,CAAC,CAACU,GAAG,CAACZ,WAAW,EAAEJ,cAAc,CAACkB,UAAU,CAAC;AAEpExB,MAAM,CAACY,KAAK,CAAC,iBAAiB,CAAC,CAACQ,GAAG,CAACV,WAAW,EAAEJ,cAAc,CAACmB,aAAa,CAAC;AAE9EC,MAAM,CAACC,OAAO,GAAG3B,MAAM"}},"mtime":1683651199050},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/helpers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/helpers/routeHelpers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst Joi = require(\"joi\");\nmodule.exports = {\n  validateBody: schema => {\n    return (req, res, next) => {\n      console.log(\"REQ BODY =>\", req.body);\n      const result = Joi.validate(req.body, schema);\n      if (result.error) {\n        return res.status(400).json(result.error);\n      }\n      if (!req.value) {\n        req.value = {};\n      }\n      req.value[\"body\"] = result.value;\n      next();\n    };\n  },\n  validateParams: schema => {\n    return (req, res, next) => {\n      const params = _objectSpread(_objectSpread({}, req.params), req.query);\n      const result = Joi.validate(params, schema);\n      if (result.error) {\n        return res.status(400).json(result.error);\n      }\n      next();\n    };\n  },\n  schemas: {\n    authSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      userType: Joi.string(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      password: Joi.string().required(),\n      gstn: Joi.string(),\n      uid: Joi.number()\n    }),\n    loginSchema: Joi.object().keys({\n      email: Joi.string().email().required(),\n      password: Joi.string().required()\n    }),\n    userSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      password: Joi.string(),\n      dob: Joi.string().required(),\n      role: Joi.string(),\n      gender: Joi.string()\n    }),\n    queryUser: Joi.object().keys({\n      role: Joi.string()\n    }),\n    referalSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      message: Joi.string(),\n      referalId: Joi.string(),\n      interested: Joi.string()\n    }),\n    productList: Joi.object().keys({\n      search: Joi.string(),\n      categories: Joi.string()\n    }),\n    reviewSchema: Joi.object().keys({\n      rating: Joi.number().integer().min(1).max(5).required(),\n      description: Joi.string().required()\n    }),\n    customerAuthSchema: Joi.object().keys({\n      phone: Joi.number().integer().min(1000000000).max(9999999999),\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n      name: Joi.string().required(),\n      image: Joi.string()\n    }),\n    customerloginSchema: Joi.object().keys({\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n      role: Joi.string().required()\n    }),\n    changePassword: Joi.object().keys({\n      oldpassword: Joi.string().required(),\n      newpassword: Joi.string().required()\n    }),\n    emailSchema: Joi.object().keys({\n      toMail: Joi.string().email().required(),\n      title: Joi.string().required(),\n      content: Joi.string().required()\n    }),\n    otpGenerate: Joi.object().keys({\n      email: Joi.string().email().required()\n    }),\n    checkOtp: Joi.object().keys({\n      email: Joi.string().email().required(),\n      otp: Joi.string().required()\n    }),\n    updateNewpassword: Joi.object().keys({\n      email: Joi.string().email().required(),\n      newpassword: Joi.string().required(),\n      confirmpassword: Joi.any().valid(Joi.ref(\"newpassword\")).required().options({\n        language: {\n          any: {\n            allowOnly: \"must match password\"\n          }\n        }\n      })\n    }),\n    userAddress: Joi.object().keys({\n      title: Joi.string().required(),\n      name: Joi.string().required(),\n      address_line_1: Joi.string().required(),\n      address_line_2: Joi.string().required(),\n      landmark: Joi.string(),\n      city: Joi.string().required(),\n      state: Joi.string().required(),\n      pincode: Joi.number().required(),\n      phone: Joi.number().required()\n    }),\n    categeorySchema: Joi.object().keys({\n      image: Joi.string(),\n      name: Joi.string().required(),\n      slug: Joi.string().required()\n    }),\n    bannerSchema: Joi.object().keys({\n      image: Joi.string(),\n      name: Joi.string().required(),\n      slug: Joi.string().required()\n    }),\n    brandSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n      categories: Joi.array().required()\n    }),\n    productSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n      categories: Joi.string().required(),\n      images: Joi.array().items(Joi.string()).required(),\n      price: Joi.number().required(),\n      salePrice: Joi.number().required(),\n      discount: Joi.number().min(1).max(100).required(),\n      description: Joi.string().required(),\n      brand: Joi.string().required()\n    }),\n    stockSchema: Joi.object().keys({\n      productId: Joi.string().required(),\n      existingStock: Joi.number().required(),\n      addedStock: Joi.number().required(),\n      totalStock: Joi.number().required(),\n      operation: Joi.string().required(),\n      reason: Joi.string()\n    }),\n    cartSchema: Joi.object().keys({\n      products: Joi.array().required()\n    }),\n    orderSchema: Joi.object().keys({\n      amount: Joi.number().required(),\n      payment_method: Joi.string().required(),\n      delivery_address: Joi.object().required(),\n      contact_number: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      subtotal: Joi.number().required(),\n      discount: Joi.number().required(),\n      delivery_fee: Joi.number().required(),\n      status: Joi.string().required(),\n      products: Joi.array().items({\n        product: Joi.string().required(),\n        name: Joi.string().required(),\n        count: Joi.number().required(),\n        image: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        units: Joi.string().required()\n      }),\n      deliveryDate: Joi.string().required(),\n      deliveryTime: Joi.string().required(),\n      payment_details: Joi.object().required()\n    }),\n    orderAssignSchema: Joi.object().keys({\n      assignedTo: Joi.string().required(),\n      date: Joi.string().required()\n    }),\n    orderReturnSchema: Joi.object().keys({\n      assignedTo: Joi.string().required(),\n      date: Joi.string().required()\n    })\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInZhbGlkYXRlQm9keSIsInNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsInJlc3VsdCIsInZhbGlkYXRlIiwiZXJyb3IiLCJzdGF0dXMiLCJqc29uIiwidmFsdWUiLCJ2YWxpZGF0ZVBhcmFtcyIsInBhcmFtcyIsIl9vYmplY3RTcHJlYWQiLCJxdWVyeSIsInNjaGVtYXMiLCJhdXRoU2NoZW1hIiwib2JqZWN0Iiwia2V5cyIsIm5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsInVzZXJUeXBlIiwiZW1haWwiLCJwaG9uZSIsIm51bWJlciIsImludGVnZXIiLCJtaW4iLCJtYXgiLCJwYXNzd29yZCIsImdzdG4iLCJ1aWQiLCJsb2dpblNjaGVtYSIsInVzZXJTY2hlbWEiLCJkb2IiLCJyb2xlIiwiZ2VuZGVyIiwicXVlcnlVc2VyIiwicmVmZXJhbFNjaGVtYSIsIm1lc3NhZ2UiLCJyZWZlcmFsSWQiLCJpbnRlcmVzdGVkIiwicHJvZHVjdExpc3QiLCJzZWFyY2giLCJjYXRlZ29yaWVzIiwicmV2aWV3U2NoZW1hIiwicmF0aW5nIiwiZGVzY3JpcHRpb24iLCJjdXN0b21lckF1dGhTY2hlbWEiLCJpbWFnZSIsImN1c3RvbWVybG9naW5TY2hlbWEiLCJjaGFuZ2VQYXNzd29yZCIsIm9sZHBhc3N3b3JkIiwibmV3cGFzc3dvcmQiLCJlbWFpbFNjaGVtYSIsInRvTWFpbCIsInRpdGxlIiwiY29udGVudCIsIm90cEdlbmVyYXRlIiwiY2hlY2tPdHAiLCJvdHAiLCJ1cGRhdGVOZXdwYXNzd29yZCIsImNvbmZpcm1wYXNzd29yZCIsImFueSIsInZhbGlkIiwicmVmIiwib3B0aW9ucyIsImxhbmd1YWdlIiwiYWxsb3dPbmx5IiwidXNlckFkZHJlc3MiLCJhZGRyZXNzX2xpbmVfMSIsImFkZHJlc3NfbGluZV8yIiwibGFuZG1hcmsiLCJjaXR5Iiwic3RhdGUiLCJwaW5jb2RlIiwiY2F0ZWdlb3J5U2NoZW1hIiwic2x1ZyIsImJhbm5lclNjaGVtYSIsImJyYW5kU2NoZW1hIiwiYXJyYXkiLCJwcm9kdWN0U2NoZW1hIiwiaW1hZ2VzIiwiaXRlbXMiLCJwcmljZSIsInNhbGVQcmljZSIsImRpc2NvdW50IiwiYnJhbmQiLCJzdG9ja1NjaGVtYSIsInByb2R1Y3RJZCIsImV4aXN0aW5nU3RvY2siLCJhZGRlZFN0b2NrIiwidG90YWxTdG9jayIsIm9wZXJhdGlvbiIsInJlYXNvbiIsImNhcnRTY2hlbWEiLCJwcm9kdWN0cyIsIm9yZGVyU2NoZW1hIiwiYW1vdW50IiwicGF5bWVudF9tZXRob2QiLCJkZWxpdmVyeV9hZGRyZXNzIiwiY29udGFjdF9udW1iZXIiLCJzdWJ0b3RhbCIsImRlbGl2ZXJ5X2ZlZSIsInByb2R1Y3QiLCJjb3VudCIsInF1YW50aXR5IiwidW5pdHMiLCJkZWxpdmVyeURhdGUiLCJkZWxpdmVyeVRpbWUiLCJwYXltZW50X2RldGFpbHMiLCJvcmRlckFzc2lnblNjaGVtYSIsImFzc2lnbmVkVG8iLCJkYXRlIiwib3JkZXJSZXR1cm5TY2hlbWEiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9wcmFkZWVwcmVkZHkvRGVza3RvcC9taXRyYS1zZXJ2ZXIvaGVscGVycy8iLCJzb3VyY2VzIjpbInJvdXRlSGVscGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKFwiam9pXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdmFsaWRhdGVCb2R5OiAoc2NoZW1hKSA9PiB7XG4gICAgcmV0dXJuIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJSRVEgQk9EWSA9PlwiLCByZXEuYm9keSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBKb2kudmFsaWRhdGUocmVxLmJvZHksIHNjaGVtYSk7XG4gICAgICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihyZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXEudmFsdWUpIHtcbiAgICAgICAgcmVxLnZhbHVlID0ge307XG4gICAgICB9XG4gICAgICByZXEudmFsdWVbXCJib2R5XCJdID0gcmVzdWx0LnZhbHVlO1xuICAgICAgbmV4dCgpO1xuICAgIH07XG4gIH0sXG5cbiAgdmFsaWRhdGVQYXJhbXM6IChzY2hlbWEpID0+IHtcbiAgICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7IC4uLnJlcS5wYXJhbXMsIC4uLnJlcS5xdWVyeSB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gSm9pLnZhbGlkYXRlKHBhcmFtcywgc2NoZW1hKTtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICBuZXh0KCk7XG4gICAgfTtcbiAgfSxcblxuICBzY2hlbWFzOiB7XG4gICAgYXV0aFNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICB1c2VyVHlwZTogSm9pLnN0cmluZygpLFxuICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgICBwaG9uZTogSm9pLm51bWJlcigpLmludGVnZXIoKS5taW4oMTAwMDAwMDAwMCkubWF4KDk5OTk5OTk5OTkpLnJlcXVpcmVkKCksXG4gICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBnc3RuOiBKb2kuc3RyaW5nKCksXG4gICAgICB1aWQ6IEpvaS5udW1iZXIoKSxcbiAgICB9KSxcbiAgICBsb2dpblNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgdXNlclNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIHBob25lOiBKb2kubnVtYmVyKCkuaW50ZWdlcigpLm1pbigxMDAwMDAwMDAwKS5tYXgoOTk5OTk5OTk5OSkucmVxdWlyZWQoKSxcbiAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCksXG4gICAgICBkb2I6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgcm9sZTogSm9pLnN0cmluZygpLFxuICAgICAgZ2VuZGVyOiBKb2kuc3RyaW5nKClcbiAgICB9KSxcbiAgICBxdWVyeVVzZXI6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIHJvbGU6IEpvaS5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICByZWZlcmFsU2NoZW1hOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgcGhvbmU6IEpvaS5udW1iZXIoKS5pbnRlZ2VyKCkubWluKDEwMDAwMDAwMDApLm1heCg5OTk5OTk5OTk5KS5yZXF1aXJlZCgpLFxuICAgICAgbWVzc2FnZTogSm9pLnN0cmluZygpLFxuICAgICAgcmVmZXJhbElkOiBKb2kuc3RyaW5nKCksXG4gICAgICBpbnRlcmVzdGVkOiBKb2kuc3RyaW5nKCksXG4gICAgfSksXG4gICAgcHJvZHVjdExpc3Q6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIHNlYXJjaDogSm9pLnN0cmluZygpLFxuICAgICAgY2F0ZWdvcmllczogSm9pLnN0cmluZygpLFxuICAgIH0pLFxuICAgIHJldmlld1NjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgcmF0aW5nOiBKb2kubnVtYmVyKCkuaW50ZWdlcigpLm1pbigxKS5tYXgoNSkucmVxdWlyZWQoKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBjdXN0b21lckF1dGhTY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIHBob25lOiBKb2kubnVtYmVyKCkuaW50ZWdlcigpLm1pbigxMDAwMDAwMDAwKS5tYXgoOTk5OTk5OTk5OSksXG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgaW1hZ2U6IEpvaS5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICBjdXN0b21lcmxvZ2luU2NoZW1hOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHJvbGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIGNoYW5nZVBhc3N3b3JkOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBvbGRwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBuZXdwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgZW1haWxTY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIHRvTWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIHRpdGxlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGNvbnRlbnQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIG90cEdlbmVyYXRlOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBjaGVja090cDogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgICBvdHA6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIHVwZGF0ZU5ld3Bhc3N3b3JkOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIG5ld3Bhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGNvbmZpcm1wYXNzd29yZDogSm9pLmFueSgpXG4gICAgICAgIC52YWxpZChKb2kucmVmKFwibmV3cGFzc3dvcmRcIikpXG4gICAgICAgIC5yZXF1aXJlZCgpXG4gICAgICAgIC5vcHRpb25zKHsgbGFuZ3VhZ2U6IHsgYW55OiB7IGFsbG93T25seTogXCJtdXN0IG1hdGNoIHBhc3N3b3JkXCIgfSB9IH0pLFxuICAgIH0pLFxuICAgIHVzZXJBZGRyZXNzOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICB0aXRsZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGFkZHJlc3NfbGluZV8xOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGFkZHJlc3NfbGluZV8yOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGxhbmRtYXJrOiBKb2kuc3RyaW5nKCksXG4gICAgICBjaXR5OiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHN0YXRlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHBpbmNvZGU6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgcGhvbmU6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIGNhdGVnZW9yeVNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgaW1hZ2U6IEpvaS5zdHJpbmcoKSxcbiAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgc2x1ZzogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgYmFubmVyU2NoZW1hOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBpbWFnZTogSm9pLnN0cmluZygpLFxuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBzbHVnOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBicmFuZFNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBzbHVnOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGNhdGVnb3JpZXM6IEpvaS5hcnJheSgpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgcHJvZHVjdFNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBzbHVnOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGNhdGVnb3JpZXM6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgaW1hZ2VzOiBKb2kuYXJyYXkoKS5pdGVtcyhKb2kuc3RyaW5nKCkpLnJlcXVpcmVkKCksXG4gICAgICBwcmljZTogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICBzYWxlUHJpY2U6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgZGlzY291bnQ6IEpvaS5udW1iZXIoKS5taW4oMSkubWF4KDEwMCkucmVxdWlyZWQoKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGJyYW5kOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBzdG9ja1NjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgcHJvZHVjdElkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGV4aXN0aW5nU3RvY2s6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgYWRkZWRTdG9jazogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICB0b3RhbFN0b2NrOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgIG9wZXJhdGlvbjogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICByZWFzb246IEpvaS5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICBjYXJ0U2NoZW1hOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBwcm9kdWN0czogSm9pLmFycmF5KCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBvcmRlclNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgYW1vdW50OiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgIHBheW1lbnRfbWV0aG9kOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGRlbGl2ZXJ5X2FkZHJlc3M6IEpvaS5vYmplY3QoKS5yZXF1aXJlZCgpLFxuICAgICAgY29udGFjdF9udW1iZXI6IEpvaS5udW1iZXIoKS5pbnRlZ2VyKCkubWluKDEwMDAwMDAwMDApLm1heCg5OTk5OTk5OTk5KS5yZXF1aXJlZCgpLFxuICAgICAgc3VidG90YWw6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgZGlzY291bnQ6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgZGVsaXZlcnlfZmVlOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgIHN0YXR1czogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBwcm9kdWN0czogSm9pLmFycmF5KCkuaXRlbXMoe1xuICAgICAgICBwcm9kdWN0OiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGNvdW50OiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgaW1hZ2U6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwcmljZTogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgIHF1YW50aXR5OiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgdW5pdHM6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgfSksXG4gICAgICBkZWxpdmVyeURhdGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgZGVsaXZlcnlUaW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHBheW1lbnRfZGV0YWlsczogSm9pLm9iamVjdCgpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgb3JkZXJBc3NpZ25TY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIGFzc2lnbmVkVG86IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgZGF0ZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgb3JkZXJSZXR1cm5TY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIGFzc2lnbmVkVG86IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgZGF0ZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gIH0sXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBSyxDQUFDO0FBRTFCQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNmQyxZQUFZLEVBQUdDLE1BQU0sSUFBSztJQUN4QixPQUFPLENBQUNDLEdBQUcs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","map":{"version":3,"names":["Joi","require","module","exports","validateBody","schema","req","res","next","console","log","body","result","validate","error","status","json","value","validateParams","params","_objectSpread","query","schemas","authSchema","object","keys","name","string","required","userType","email","phone","number","integer","min","max","password","gstn","uid","loginSchema","userSchema","dob","role","gender","queryUser","referalSchema","message","referalId","interested","productList","search","categories","reviewSchema","rating","description","customerAuthSchema","image","customerloginSchema","changePassword","oldpassword","newpassword","emailSchema","toMail","title","content","otpGenerate","checkOtp","otp","updateNewpassword","confirmpassword","any","valid","ref","options","language","allowOnly","userAddress","address_line_1","address_line_2","landmark","city","state","pincode","categeorySchema","slug","bannerSchema","brandSchema","array","productSchema","images","items","price","salePrice","discount","brand","stockSchema","productId","existingStock","addedStock","totalStock","operation","reason","cartSchema","products","orderSchema","amount","payment_method","delivery_address","contact_number","subtotal","delivery_fee","product","count","quantity","units","deliveryDate","deliveryTime","payment_details","orderAssignSchema","assignedTo","date","orderReturnSchema"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/helpers/","sources":["routeHelpers.js"],"sourcesContent":["const Joi = require(\"joi\");\n\nmodule.exports = {\n  validateBody: (schema) => {\n    return (req, res, next) => {\n      console.log(\"REQ BODY =>\", req.body);\n      const result = Joi.validate(req.body, schema);\n      if (result.error) {\n        return res.status(400).json(result.error);\n      }\n      if (!req.value) {\n        req.value = {};\n      }\n      req.value[\"body\"] = result.value;\n      next();\n    };\n  },\n\n  validateParams: (schema) => {\n    return (req, res, next) => {\n      const params = { ...req.params, ...req.query };\n      const result = Joi.validate(params, schema);\n      if (result.error) {\n        return res.status(400).json(result.error);\n      }\n      next();\n    };\n  },\n\n  schemas: {\n    authSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      userType: Joi.string(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      password: Joi.string().required(),\n      gstn: Joi.string(),\n      uid: Joi.number(),\n    }),\n    loginSchema: Joi.object().keys({\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n    }),\n    userSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      password: Joi.string(),\n      dob: Joi.string().required(),\n      role: Joi.string(),\n      gender: Joi.string()\n    }),\n    queryUser: Joi.object().keys({\n      role: Joi.string(),\n    }),\n    referalSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      message: Joi.string(),\n      referalId: Joi.string(),\n      interested: Joi.string(),\n    }),\n    productList: Joi.object().keys({\n      search: Joi.string(),\n      categories: Joi.string(),\n    }),\n    reviewSchema: Joi.object().keys({\n      rating: Joi.number().integer().min(1).max(5).required(),\n      description: Joi.string().required(),\n    }),\n    customerAuthSchema: Joi.object().keys({\n      phone: Joi.number().integer().min(1000000000).max(9999999999),\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n      name: Joi.string().required(),\n      image: Joi.string(),\n    }),\n    customerloginSchema: Joi.object().keys({\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n      role: Joi.string().required(),\n    }),\n    changePassword: Joi.object().keys({\n      oldpassword: Joi.string().required(),\n      newpassword: Joi.string().required(),\n    }),\n    emailSchema: Joi.object().keys({\n      toMail: Joi.string().email().required(),\n      title: Joi.string().required(),\n      content: Joi.string().required(),\n    }),\n    otpGenerate: Joi.object().keys({\n      email: Joi.string().email().required(),\n    }),\n    checkOtp: Joi.object().keys({\n      email: Joi.string().email().required(),\n      otp: Joi.string().required(),\n    }),\n    updateNewpassword: Joi.object().keys({\n      email: Joi.string().email().required(),\n      newpassword: Joi.string().required(),\n      confirmpassword: Joi.any()\n        .valid(Joi.ref(\"newpassword\"))\n        .required()\n        .options({ language: { any: { allowOnly: \"must match password\" } } }),\n    }),\n    userAddress: Joi.object().keys({\n      title: Joi.string().required(),\n      name: Joi.string().required(),\n      address_line_1: Joi.string().required(),\n      address_line_2: Joi.string().required(),\n      landmark: Joi.string(),\n      city: Joi.string().required(),\n      state: Joi.string().required(),\n      pincode: Joi.number().required(),\n      phone: Joi.number().required(),\n    }),\n    categeorySchema: Joi.object().keys({\n      image: Joi.string(),\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n    }),\n    bannerSchema: Joi.object().keys({\n      image: Joi.string(),\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n    }),\n    brandSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n      categories: Joi.array().required(),\n    }),\n    productSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n      categories: Joi.string().required(),\n      images: Joi.array().items(Joi.string()).required(),\n      price: Joi.number().required(),\n      salePrice: Joi.number().required(),\n      discount: Joi.number().min(1).max(100).required(),\n      description: Joi.string().required(),\n      brand: Joi.string().required(),\n    }),\n    stockSchema: Joi.object().keys({\n      productId: Joi.string().required(),\n      existingStock: Joi.number().required(),\n      addedStock: Joi.number().required(),\n      totalStock: Joi.number().required(),\n      operation: Joi.string().required(),\n      reason: Joi.string(),\n    }),\n    cartSchema: Joi.object().keys({\n      products: Joi.array().required(),\n    }),\n    orderSchema: Joi.object().keys({\n      amount: Joi.number().required(),\n      payment_method: Joi.string().required(),\n      delivery_address: Joi.object().required(),\n      contact_number: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      subtotal: Joi.number().required(),\n      discount: Joi.number().required(),\n      delivery_fee: Joi.number().required(),\n      status: Joi.string().required(),\n      products: Joi.array().items({\n        product: Joi.string().required(),\n        name: Joi.string().required(),\n        count: Joi.number().required(),\n        image: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        units: Joi.string().required(),\n      }),\n      deliveryDate: Joi.string().required(),\n      deliveryTime: Joi.string().required(),\n      payment_details: Joi.object().required(),\n    }),\n    orderAssignSchema: Joi.object().keys({\n      assignedTo: Joi.string().required(),\n      date: Joi.string().required(),\n    }),\n    orderReturnSchema: Joi.object().keys({\n      assignedTo: Joi.string().required(),\n      date: Joi.string().required(),\n    }),\n  },\n};\n"],"mappings":"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"}},"mtime":1683647312240},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/controllers/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst JWT = require(\"jsonwebtoken\");\nconst Users = require(\"../models/users\");\nconst {\n  JWT_SECRET\n} = require(\"../configuration\");\nconst signToken = user => {\n  return JWT.sign({\n    iss: \"mitra-society\",\n    sub: user.id,\n    iat: new Date().getTime(),\n    // current time\n    exp: new Date().setDate(new Date().getDate() + 1) // current time + 1 day ahead\n  }, JWT_SECRET);\n};\nmodule.exports = {\n  createUser: async (req, res, next) => {\n    const {\n      email,\n      phone\n    } = req.body;\n    let foundUser = await Users.findOne({\n      $or: [{\n        email: email.toLowerCase().trim()\n      }, {\n        phone: phone\n      }]\n    });\n    if (foundUser) {\n      return res.status(400).json({\n        message: `${foundUser.role || 'user'} already exists with the ${foundUser.email === email ? \"Email\" : \"Phone number\"}`\n      });\n    }\n    const cusObj = _objectSpread(_objectSpread({}, req.body), {}, {\n      password: req.body.dob,\n      createdBy: req.user?._id\n    });\n    const newUsers = new Users(cusObj);\n    await newUsers.save();\n    res.status(200).json({\n      message: \"User created successfully\"\n    });\n  },\n  deleteUser: async (req, res, next) => {\n    Users.findOneAndDelete({\n      _id: req.params.id\n    }, (err, data) => {\n      if (err) res.status(500).json({\n        message: \"Sorry something went wrong! please try later...\",\n        error: err\n      });else res.json({\n        message: \"Successfully Deleted.\"\n      });\n    });\n  },\n  signIn: async (req, res, next) => {\n    const token = signToken(req.user);\n    res.status(200).json({\n      token\n    });\n  },\n  signOut: async (req, res, next) => {\n    res.clearCookie(\"access_token\");\n    res.json({\n      success: true\n    });\n  },\n  checkAuth: async (req, res, next) => {\n    const token = signToken(req.user);\n    console.log(\"I managed to get here!\");\n    res.json({\n      token\n    });\n  },\n  getUsers: async (req, res, next) => {\n    Users.find({}).exec((err, response) => {\n      res.send(response.filter(o => _objectSpread(_objectSpread({}, o), {}, {\n        password: undefined\n      })));\n    });\n  },\n  updateProfile: async (req, res) => {\n    Users.findOneAndUpdate({\n      _id: req.user.id\n    }, req.body, (err, response) => {\n      if (err) res.status(400).json({\n        message: \"Error in updating user\"\n      });else res.json(response);\n    });\n  },\n  getProfile: async (req, res) => {\n    console.log(\"USER =>\", req.user);\n    const profile = req.user;\n    delete req.password;\n    res.send(profile);\n  },\n  deleteUser: async (req, res) => {\n    Users.findOneAndDelete({\n      _id: req.params.id\n    }, function (err, response) {\n      if (err) res.json({\n        message: \"Error in deleteting product\"\n      });\n      res.json(response);\n    });\n  },\n  updateNewPassword: async (req, res) => {\n    let foundUser = await Users.findOne({\n      email: req.body.email.toLowerCase().trim()\n    });\n    if (!foundUser) {\n      return res.status(403).json({\n        error: \"Email is not exit\"\n      });\n    }\n    Users.findOneAndUpdate({\n      email: req.body.email.toLowerCase().trim()\n    }, {\n      password: req.body.newpassword\n    }, (err, response) => {\n      const token = signToken(Users);\n      if (err) res.status(400).json({\n        message: \"Error in updating customer\"\n      });else res.json({\n        token,\n        profile: req.user\n      });\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKV1QiLCJyZXF1aXJlIiwiVXNlcnMiLCJKV1RfU0VDUkVUIiwic2lnblRva2VuIiwidXNlciIsInNpZ24iLCJpc3MiLCJzdWIiLCJpZCIsImlhdCIsIkRhdGUiLCJnZXRUaW1lIiwiZXhwIiwic2V0RGF0ZSIsImdldERhdGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlVXNlciIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsInBob25lIiwiYm9keSIsImZvdW5kVXNlciIsImZpbmRPbmUiLCIkb3IiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInJvbGUiLCJjdXNPYmoiLCJfb2JqZWN0U3ByZWFkIiwicGFzc3dvcmQiLCJkb2IiLCJjcmVhdGVkQnkiLCJfaWQiLCJuZXdVc2VycyIsInNhdmUiLCJkZWxldGVVc2VyIiwiZmluZE9uZUFuZERlbGV0ZSIsInBhcmFtcyIsImVyciIsImRhdGEiLCJlcnJvciIsInNpZ25JbiIsInRva2VuIiwic2lnbk91dCIsImNsZWFyQ29va2llIiwic3VjY2VzcyIsImNoZWNrQXV0aCIsImNvbnNvbGUiLCJsb2ciLCJnZXRVc2VycyIsImZpbmQiLCJleGVjIiwicmVzcG9uc2UiLCJzZW5kIiwiZmlsdGVyIiwibyIsInVuZGVmaW5lZCIsInVwZGF0ZVByb2ZpbGUiLCJmaW5kT25lQW5kVXBkYXRlIiwiZ2V0UHJvZmlsZSIsInByb2ZpbGUiLCJ1cGRhdGVOZXdQYXNzd29yZCIsIm5ld3Bhc3N3b3JkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvcHJhZGVlcHJlZGR5L0Rlc2t0b3AvbWl0cmEtc2VydmVyL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsidXNlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSldUID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IFVzZXJzID0gcmVxdWlyZShcIi4uL21vZGVscy91c2Vyc1wiKTtcbmNvbnN0IHsgSldUX1NFQ1JFVCB9ID0gcmVxdWlyZShcIi4uL2NvbmZpZ3VyYXRpb25cIik7XG5cbmNvbnN0IHNpZ25Ub2tlbiA9ICh1c2VyKSA9PiB7XG4gIHJldHVybiBKV1Quc2lnbihcbiAgICB7XG4gICAgICBpc3M6IFwibWl0cmEtc29jaWV0eVwiLFxuICAgICAgc3ViOiB1c2VyLmlkLFxuICAgICAgaWF0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgLy8gY3VycmVudCB0aW1lXG4gICAgICBleHA6IG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDEpLCAvLyBjdXJyZW50IHRpbWUgKyAxIGRheSBhaGVhZFxuICAgIH0sXG4gICAgSldUX1NFQ1JFVFxuICApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZVVzZXI6IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHsgZW1haWwsIHBob25lIH0gPSByZXEuYm9keTtcbiAgICBsZXQgZm91bmRVc2VyID0gYXdhaXQgVXNlcnMuZmluZE9uZSh7XG4gICAgICAkb3I6IFt7IGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKSB9LCB7IHBob25lOiBwaG9uZSB9XSxcbiAgICB9KTtcbiAgICBpZiAoZm91bmRVc2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBgJHtmb3VuZFVzZXIucm9sZSB8fCAndXNlcid9IGFscmVhZHkgZXhpc3RzIHdpdGggdGhlICR7XG4gICAgICAgICAgZm91bmRVc2VyLmVtYWlsID09PSBlbWFpbCA/IFwiRW1haWxcIiA6IFwiUGhvbmUgbnVtYmVyXCJcbiAgICAgICAgfWAsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgY3VzT2JqID0ge1xuICAgICAgLi4ucmVxLmJvZHksXG4gICAgICBwYXNzd29yZDogcmVxLmJvZHkuZG9iLFxuICAgICAgY3JlYXRlZEJ5OiByZXEudXNlcj8uX2lkLFxuICAgIH07XG4gICAgY29uc3QgbmV3VXNlcnMgPSBuZXcgVXNlcnMoY3VzT2JqKTtcbiAgICBhd2FpdCBuZXdVc2Vycy5zYXZlKCk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIlVzZXIgY3JlYXRlZCBzdWNjZXNzZnVsbHlcIiB9KTtcbiAgfSxcblxuICBkZWxldGVVc2VyOiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBVc2Vycy5maW5kT25lQW5kRGVsZXRlKHsgX2lkOiByZXEucGFyYW1zLmlkIH0sIChlcnIsIGRhdGEpID0+IHtcbiAgICAgIGlmIChlcnIpXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIlNvcnJ5IHNvbWV0aGluZyB3ZW50IHdyb25nISBwbGVhc2UgdHJ5IGxhdGVyLi4uXCIsXG4gICAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgfSk7XG4gICAgICBlbHNlIHJlcy5qc29uKHsgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgRGVsZXRlZC5cIiB9KTtcbiAgICB9KTtcbiAgfSxcblxuICBzaWduSW46IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gc2lnblRva2VuKHJlcS51c2VyKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4gfSk7XG4gIH0sXG5cbiAgc2lnbk91dDogYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmNsZWFyQ29va2llKFwiYWNjZXNzX3Rva2VuXCIpO1xuICAgIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgfSxcblxuICBjaGVja0F1dGg6IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gc2lnblRva2VuKHJlcS51c2VyKTtcbiAgICBjb25zb2xlLmxvZyhcIkkgbWFuYWdlZCB0byBnZXQgaGVyZSFcIik7XG4gICAgcmVzLmpzb24oeyB0b2tlbiB9KTtcbiAgfSxcblxuICBnZXRVc2VyczogYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgVXNlcnMuZmluZCh7fSlcbiAgICAgIC5leGVjKChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmVzLnNlbmQocmVzcG9uc2UuZmlsdGVyKG8gPT4gKHsuLi5vLCBwYXNzd29yZDogdW5kZWZpbmVkfSkpKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgfSxcblxuICB1cGRhdGVQcm9maWxlOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBVc2Vycy5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiByZXEudXNlci5pZCB9LCByZXEuYm9keSwgKGVyciwgcmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChlcnIpIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBpbiB1cGRhdGluZyB1c2VyXCIgfSk7XG4gICAgICBlbHNlIHJlcy5qc29uKHJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfSxcblxuICBnZXRQcm9maWxlOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlVTRVIgPT5cIiwgcmVxLnVzZXIpO1xuICAgIGNvbnN0IHByb2ZpbGUgPSByZXEudXNlcjtcbiAgICBkZWxldGUgcmVxLnBhc3N3b3JkO1xuICAgIHJlcy5zZW5kKHByb2ZpbGUpO1xuICB9LFxuXG4gIGRlbGV0ZVVzZXI6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIFVzZXJzLmZpbmRPbmVBbmREZWxldGUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSwgZnVuY3Rpb24gKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgIGlmIChlcnIpIHJlcy5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBpbiBkZWxldGV0aW5nIHByb2R1Y3RcIiB9KTtcbiAgICAgIHJlcy5qc29uKHJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfSxcblxuICB1cGRhdGVOZXdQYXNzd29yZDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgbGV0IGZvdW5kVXNlciA9IGF3YWl0IFVzZXJzLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwudG9Mb3dlckNhc2UoKS50cmltKCkgfSk7XG4gICAgaWYgKCFmb3VuZFVzZXIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IGVycm9yOiBcIkVtYWlsIGlzIG5vdCBleGl0XCIgfSk7XG4gICAgfVxuICAgIFVzZXJzLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICB7IGVtYWlsOiByZXEuYm9keS5lbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKSB9LFxuICAgICAgeyBwYXNzd29yZDogcmVxLmJvZHkubmV3cGFzc3dvcmQgfSxcbiAgICAgIChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gc2lnblRva2VuKFVzZXJzKTtcbiAgICAgICAgaWYgKGVycilcbiAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiRXJyb3IgaW4gdXBkYXRpbmcgY3VzdG9tZXJcIiB9KTtcbiAgICAgICAgZWxzZSByZXMuanNvbih7IHRva2VuLCBwcm9maWxlOiByZXEudXNlciB9KTtcbiAgICAgIH1cbiAgICApO1xuICB9LFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUNuQyxNQUFNQyxLQUFLLEdBQUdELE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUN4QyxNQUFNO0VBQUVFO0FBQVcsQ0FBQyxHQUFHRixPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFFbEQsTUFBTUcsU0FBUyxHQUFJQyxJQUFJLElBQUs7RUFDMUIsT0FBT0wsR0FBRyxDQUFDTSxJQUFJLENBQ2I7SUFDRUMsR0FBRyxFQUFFLGVBQWU7SUFDcEJDLEdBQUcsRUFBRUgsSUFBSSxDQUFDSSxFQUFFO0lBQ1pDLEdBQUcsRUFBRSxJQUFJQyxJQUFJLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJ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","map":{"version":3,"names":["JWT","require","Users","JWT_SECRET","signToken","user","sign","iss","sub","id","iat","Date","getTime","exp","setDate","getDate","module","exports","createUser","req","res","next","email","phone","body","foundUser","findOne","$or","toLowerCase","trim","status","json","message","role","cusObj","_objectSpread","password","dob","createdBy","_id","newUsers","save","deleteUser","findOneAndDelete","params","err","data","error","signIn","token","signOut","clearCookie","success","checkAuth","console","log","getUsers","find","exec","response","send","filter","o","undefined","updateProfile","findOneAndUpdate","getProfile","profile","updateNewPassword","newpassword"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/controllers/","sources":["users.js"],"sourcesContent":["const JWT = require(\"jsonwebtoken\");\nconst Users = require(\"../models/users\");\nconst { JWT_SECRET } = require(\"../configuration\");\n\nconst signToken = (user) => {\n  return JWT.sign(\n    {\n      iss: \"mitra-society\",\n      sub: user.id,\n      iat: new Date().getTime(), // current time\n      exp: new Date().setDate(new Date().getDate() + 1), // current time + 1 day ahead\n    },\n    JWT_SECRET\n  );\n};\n\nmodule.exports = {\n  createUser: async (req, res, next) => {\n    const { email, phone } = req.body;\n    let foundUser = await Users.findOne({\n      $or: [{ email: email.toLowerCase().trim() }, { phone: phone }],\n    });\n    if (foundUser) {\n      return res.status(400).json({\n        message: `${foundUser.role || 'user'} already exists with the ${\n          foundUser.email === email ? \"Email\" : \"Phone number\"\n        }`,\n      });\n    }\n    const cusObj = {\n      ...req.body,\n      password: req.body.dob,\n      createdBy: req.user?._id,\n    };\n    const newUsers = new Users(cusObj);\n    await newUsers.save();\n    res.status(200).json({ message: \"User created successfully\" });\n  },\n\n  deleteUser: async (req, res, next) => {\n    Users.findOneAndDelete({ _id: req.params.id }, (err, data) => {\n      if (err)\n        res.status(500).json({\n          message: \"Sorry something went wrong! please try later...\",\n          error: err,\n        });\n      else res.json({ message: \"Successfully Deleted.\" });\n    });\n  },\n\n  signIn: async (req, res, next) => {\n    const token = signToken(req.user);\n      res.status(200).json({ token });\n  },\n\n  signOut: async (req, res, next) => {\n    res.clearCookie(\"access_token\");\n    res.json({ success: true });\n  },\n\n  checkAuth: async (req, res, next) => {\n    const token = signToken(req.user);\n    console.log(\"I managed to get here!\");\n    res.json({ token });\n  },\n\n  getUsers: async (req, res, next) => {\n    Users.find({})\n      .exec((err, response) => {\n          res.send(response.filter(o => ({...o, password: undefined})));\n        }\n      );\n  },\n\n  updateProfile: async (req, res) => {\n    Users.findOneAndUpdate({ _id: req.user.id }, req.body, (err, response) => {\n      if (err) res.status(400).json({ message: \"Error in updating user\" });\n      else res.json(response);\n    });\n  },\n\n  getProfile: async (req, res) => {\n    console.log(\"USER =>\", req.user);\n    const profile = req.user;\n    delete req.password;\n    res.send(profile);\n  },\n\n  deleteUser: async (req, res) => {\n    Users.findOneAndDelete({ _id: req.params.id }, function (err, response) {\n      if (err) res.json({ message: \"Error in deleteting product\" });\n      res.json(response);\n    });\n  },\n\n  updateNewPassword: async (req, res) => {\n    let foundUser = await Users.findOne({ email: req.body.email.toLowerCase().trim() });\n    if (!foundUser) {\n      return res.status(403).json({ error: \"Email is not exit\" });\n    }\n    Users.findOneAndUpdate(\n      { email: req.body.email.toLowerCase().trim() },\n      { password: req.body.newpassword },\n      (err, response) => {\n        const token = signToken(Users);\n        if (err)\n          res.status(400).json({ message: \"Error in updating customer\" });\n        else res.json({ token, profile: req.user });\n      }\n    );\n  },\n};\n"],"mappings":"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"}},"mtime":1683650500237},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/helpers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/helpers/routeHelpers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst Joi = require(\"joi\");\nmodule.exports = {\n  validateBody: schema => {\n    return (req, res, next) => {\n      console.log(\"REQ BODY =>\", req.body);\n      const result = Joi.validate(req.body, schema);\n      if (result.error) {\n        return res.status(400).json(result.error);\n      }\n      if (!req.value) {\n        req.value = {};\n      }\n      req.value[\"body\"] = result.value;\n      next();\n    };\n  },\n  validateParams: schema => {\n    return (req, res, next) => {\n      const params = _objectSpread(_objectSpread({}, req.params), req.query);\n      const result = Joi.validate(params, schema);\n      if (result.error) {\n        return res.status(400).json(result.error);\n      }\n      next();\n    };\n  },\n  schemas: {\n    authSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      userType: Joi.string(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      password: Joi.string().required(),\n      gstn: Joi.string(),\n      uid: Joi.number()\n    }),\n    loginSchema: Joi.object().keys({\n      email: Joi.string().email().required(),\n      password: Joi.string().required()\n    }),\n    userSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      password: Joi.string(),\n      dob: Joi.string().required(),\n      role: Joi.string(),\n      gender: Joi.string()\n    }),\n    queryUser: Joi.object().keys({\n      role: Joi.string()\n    }),\n    referalSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      message: Joi.string(),\n      referalId: Joi.string(),\n      interested: Joi.string()\n    }),\n    productList: Joi.object().keys({\n      search: Joi.string(),\n      categories: Joi.string()\n    }),\n    reviewSchema: Joi.object().keys({\n      rating: Joi.number().integer().min(1).max(5).required(),\n      description: Joi.string().required()\n    }),\n    customerAuthSchema: Joi.object().keys({\n      phone: Joi.number().integer().min(1000000000).max(9999999999),\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n      name: Joi.string().required(),\n      image: Joi.string()\n    }),\n    customerloginSchema: Joi.object().keys({\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n      role: Joi.string().required()\n    }),\n    changePassword: Joi.object().keys({\n      oldpassword: Joi.string().required(),\n      newpassword: Joi.string().required()\n    }),\n    emailSchema: Joi.object().keys({\n      toMail: Joi.string().email().required(),\n      title: Joi.string().required(),\n      content: Joi.string().required()\n    }),\n    otpGenerate: Joi.object().keys({\n      email: Joi.string().email().required()\n    }),\n    checkOtp: Joi.object().keys({\n      email: Joi.string().email().required(),\n      otp: Joi.string().required()\n    }),\n    updateNewpassword: Joi.object().keys({\n      email: Joi.string().email().required(),\n      newpassword: Joi.string().required(),\n      confirmpassword: Joi.any().valid(Joi.ref(\"newpassword\")).required().options({\n        language: {\n          any: {\n            allowOnly: \"must match password\"\n          }\n        }\n      })\n    }),\n    userAddress: Joi.object().keys({\n      title: Joi.string().required(),\n      name: Joi.string().required(),\n      address_line_1: Joi.string().required(),\n      address_line_2: Joi.string().required(),\n      landmark: Joi.string(),\n      city: Joi.string().required(),\n      state: Joi.string().required(),\n      pincode: Joi.number().required(),\n      phone: Joi.number().required()\n    }),\n    categeorySchema: Joi.object().keys({\n      image: Joi.string(),\n      name: Joi.string().required(),\n      slug: Joi.string().required()\n    }),\n    bannerSchema: Joi.object().keys({\n      image: Joi.string(),\n      name: Joi.string().required(),\n      slug: Joi.string().required()\n    }),\n    brandSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n      categories: Joi.array().required()\n    }),\n    productSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n      categories: Joi.string().required(),\n      images: Joi.array().items(Joi.string()).required(),\n      price: Joi.number().required(),\n      salePrice: Joi.number().required(),\n      discount: Joi.number().min(1).max(100).required(),\n      description: Joi.string().required(),\n      brand: Joi.string().required()\n    }),\n    stockSchema: Joi.object().keys({\n      productId: Joi.string().required(),\n      existingStock: Joi.number().required(),\n      addedStock: Joi.number().required(),\n      totalStock: Joi.number().required(),\n      operation: Joi.string().required(),\n      reason: Joi.string()\n    }),\n    cartSchema: Joi.object().keys({\n      products: Joi.array().required()\n    }),\n    orderSchema: Joi.object().keys({\n      amount: Joi.number().required(),\n      payment_method: Joi.string().required(),\n      delivery_address: Joi.object().required(),\n      contact_number: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      subtotal: Joi.number().required(),\n      discount: Joi.number().required(),\n      delivery_fee: Joi.number().required(),\n      status: Joi.string().required(),\n      products: Joi.array().items({\n        product: Joi.string().required(),\n        name: Joi.string().required(),\n        count: Joi.number().required(),\n        image: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        units: Joi.string().required()\n      }),\n      deliveryDate: Joi.string().required(),\n      deliveryTime: Joi.string().required(),\n      payment_details: Joi.object().required()\n    }),\n    orderAssignSchema: Joi.object().keys({\n      assignedTo: Joi.string().required(),\n      date: Joi.string().required()\n    }),\n    orderReturnSchema: Joi.object().keys({\n      assignedTo: Joi.string().required(),\n      date: Joi.string().required()\n    })\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInZhbGlkYXRlQm9keSIsInNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsInJlc3VsdCIsInZhbGlkYXRlIiwiZXJyb3IiLCJzdGF0dXMiLCJqc29uIiwidmFsdWUiLCJ2YWxpZGF0ZVBhcmFtcyIsInBhcmFtcyIsIl9vYmplY3RTcHJlYWQiLCJxdWVyeSIsInNjaGVtYXMiLCJhdXRoU2NoZW1hIiwib2JqZWN0Iiwia2V5cyIsIm5hbWUiLCJzdHJpbmciLCJyZXF1aXJlZCIsInVzZXJUeXBlIiwiZW1haWwiLCJwaG9uZSIsIm51bWJlciIsImludGVnZXIiLCJtaW4iLCJtYXgiLCJwYXNzd29yZCIsImdzdG4iLCJ1aWQiLCJsb2dpblNjaGVtYSIsInVzZXJTY2hlbWEiLCJkb2IiLCJyb2xlIiwiZ2VuZGVyIiwicXVlcnlVc2VyIiwicmVmZXJhbFNjaGVtYSIsIm1lc3NhZ2UiLCJyZWZlcmFsSWQiLCJpbnRlcmVzdGVkIiwicHJvZHVjdExpc3QiLCJzZWFyY2giLCJjYXRlZ29yaWVzIiwicmV2aWV3U2NoZW1hIiwicmF0aW5nIiwiZGVzY3JpcHRpb24iLCJjdXN0b21lckF1dGhTY2hlbWEiLCJpbWFnZSIsImN1c3RvbWVybG9naW5TY2hlbWEiLCJjaGFuZ2VQYXNzd29yZCIsIm9sZHBhc3N3b3JkIiwibmV3cGFzc3dvcmQiLCJlbWFpbFNjaGVtYSIsInRvTWFpbCIsInRpdGxlIiwiY29udGVudCIsIm90cEdlbmVyYXRlIiwiY2hlY2tPdHAiLCJvdHAiLCJ1cGRhdGVOZXdwYXNzd29yZCIsImNvbmZpcm1wYXNzd29yZCIsImFueSIsInZhbGlkIiwicmVmIiwib3B0aW9ucyIsImxhbmd1YWdlIiwiYWxsb3dPbmx5IiwidXNlckFkZHJlc3MiLCJhZGRyZXNzX2xpbmVfMSIsImFkZHJlc3NfbGluZV8yIiwibGFuZG1hcmsiLCJjaXR5Iiwic3RhdGUiLCJwaW5jb2RlIiwiY2F0ZWdlb3J5U2NoZW1hIiwic2x1ZyIsImJhbm5lclNjaGVtYSIsImJyYW5kU2NoZW1hIiwiYXJyYXkiLCJwcm9kdWN0U2NoZW1hIiwiaW1hZ2VzIiwiaXRlbXMiLCJwcmljZSIsInNhbGVQcmljZSIsImRpc2NvdW50IiwiYnJhbmQiLCJzdG9ja1NjaGVtYSIsInByb2R1Y3RJZCIsImV4aXN0aW5nU3RvY2siLCJhZGRlZFN0b2NrIiwidG90YWxTdG9jayIsIm9wZXJhdGlvbiIsInJlYXNvbiIsImNhcnRTY2hlbWEiLCJwcm9kdWN0cyIsIm9yZGVyU2NoZW1hIiwiYW1vdW50IiwicGF5bWVudF9tZXRob2QiLCJkZWxpdmVyeV9hZGRyZXNzIiwiY29udGFjdF9udW1iZXIiLCJzdWJ0b3RhbCIsImRlbGl2ZXJ5X2ZlZSIsInByb2R1Y3QiLCJjb3VudCIsInF1YW50aXR5IiwidW5pdHMiLCJkZWxpdmVyeURhdGUiLCJkZWxpdmVyeVRpbWUiLCJwYXltZW50X2RldGFpbHMiLCJvcmRlckFzc2lnblNjaGVtYSIsImFzc2lnbmVkVG8iLCJkYXRlIiwib3JkZXJSZXR1cm5TY2hlbWEiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9wcmFkZWVwcmVkZHkvRGVza3RvcC9taXRyYS1zZXJ2ZXIvaGVscGVycy8iLCJzb3VyY2VzIjpbInJvdXRlSGVscGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKFwiam9pXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdmFsaWRhdGVCb2R5OiAoc2NoZW1hKSA9PiB7XG4gICAgcmV0dXJuIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJSRVEgQk9EWSA9PlwiLCByZXEuYm9keSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBKb2kudmFsaWRhdGUocmVxLmJvZHksIHNjaGVtYSk7XG4gICAgICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihyZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXEudmFsdWUpIHtcbiAgICAgICAgcmVxLnZhbHVlID0ge307XG4gICAgICB9XG4gICAgICByZXEudmFsdWVbXCJib2R5XCJdID0gcmVzdWx0LnZhbHVlO1xuICAgICAgbmV4dCgpO1xuICAgIH07XG4gIH0sXG5cbiAgdmFsaWRhdGVQYXJhbXM6IChzY2hlbWEpID0+IHtcbiAgICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7IC4uLnJlcS5wYXJhbXMsIC4uLnJlcS5xdWVyeSB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gSm9pLnZhbGlkYXRlKHBhcmFtcywgc2NoZW1hKTtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICBuZXh0KCk7XG4gICAgfTtcbiAgfSxcblxuICBzY2hlbWFzOiB7XG4gICAgYXV0aFNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICB1c2VyVHlwZTogSm9pLnN0cmluZygpLFxuICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgICBwaG9uZTogSm9pLm51bWJlcigpLmludGVnZXIoKS5taW4oMTAwMDAwMDAwMCkubWF4KDk5OTk5OTk5OTkpLnJlcXVpcmVkKCksXG4gICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBnc3RuOiBKb2kuc3RyaW5nKCksXG4gICAgICB1aWQ6IEpvaS5udW1iZXIoKSxcbiAgICB9KSxcbiAgICBsb2dpblNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgICBwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgdXNlclNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIHBob25lOiBKb2kubnVtYmVyKCkuaW50ZWdlcigpLm1pbigxMDAwMDAwMDAwKS5tYXgoOTk5OTk5OTk5OSkucmVxdWlyZWQoKSxcbiAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCksXG4gICAgICBkb2I6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgcm9sZTogSm9pLnN0cmluZygpLFxuICAgICAgZ2VuZGVyOiBKb2kuc3RyaW5nKClcbiAgICB9KSxcbiAgICBxdWVyeVVzZXI6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIHJvbGU6IEpvaS5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICByZWZlcmFsU2NoZW1hOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLFxuICAgICAgcGhvbmU6IEpvaS5udW1iZXIoKS5pbnRlZ2VyKCkubWluKDEwMDAwMDAwMDApLm1heCg5OTk5OTk5OTk5KS5yZXF1aXJlZCgpLFxuICAgICAgbWVzc2FnZTogSm9pLnN0cmluZygpLFxuICAgICAgcmVmZXJhbElkOiBKb2kuc3RyaW5nKCksXG4gICAgICBpbnRlcmVzdGVkOiBKb2kuc3RyaW5nKCksXG4gICAgfSksXG4gICAgcHJvZHVjdExpc3Q6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIHNlYXJjaDogSm9pLnN0cmluZygpLFxuICAgICAgY2F0ZWdvcmllczogSm9pLnN0cmluZygpLFxuICAgIH0pLFxuICAgIHJldmlld1NjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgcmF0aW5nOiBKb2kubnVtYmVyKCkuaW50ZWdlcigpLm1pbigxKS5tYXgoNSkucmVxdWlyZWQoKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBjdXN0b21lckF1dGhTY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIHBob25lOiBKb2kubnVtYmVyKCkuaW50ZWdlcigpLm1pbigxMDAwMDAwMDAwKS5tYXgoOTk5OTk5OTk5OSksXG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgaW1hZ2U6IEpvaS5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICBjdXN0b21lcmxvZ2luU2NoZW1hOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHJvbGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIGNoYW5nZVBhc3N3b3JkOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBvbGRwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBuZXdwYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgZW1haWxTY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIHRvTWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIHRpdGxlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGNvbnRlbnQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIG90cEdlbmVyYXRlOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBjaGVja090cDogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgICBvdHA6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIHVwZGF0ZU5ld3Bhc3N3b3JkOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgIG5ld3Bhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGNvbmZpcm1wYXNzd29yZDogSm9pLmFueSgpXG4gICAgICAgIC52YWxpZChKb2kucmVmKFwibmV3cGFzc3dvcmRcIikpXG4gICAgICAgIC5yZXF1aXJlZCgpXG4gICAgICAgIC5vcHRpb25zKHsgbGFuZ3VhZ2U6IHsgYW55OiB7IGFsbG93T25seTogXCJtdXN0IG1hdGNoIHBhc3N3b3JkXCIgfSB9IH0pLFxuICAgIH0pLFxuICAgIHVzZXJBZGRyZXNzOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICB0aXRsZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGFkZHJlc3NfbGluZV8xOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGFkZHJlc3NfbGluZV8yOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGxhbmRtYXJrOiBKb2kuc3RyaW5nKCksXG4gICAgICBjaXR5OiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHN0YXRlOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHBpbmNvZGU6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgcGhvbmU6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIGNhdGVnZW9yeVNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgaW1hZ2U6IEpvaS5zdHJpbmcoKSxcbiAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgc2x1ZzogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgYmFubmVyU2NoZW1hOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBpbWFnZTogSm9pLnN0cmluZygpLFxuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBzbHVnOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBicmFuZFNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBzbHVnOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGNhdGVnb3JpZXM6IEpvaS5hcnJheSgpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgcHJvZHVjdFNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBzbHVnOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGNhdGVnb3JpZXM6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgaW1hZ2VzOiBKb2kuYXJyYXkoKS5pdGVtcyhKb2kuc3RyaW5nKCkpLnJlcXVpcmVkKCksXG4gICAgICBwcmljZTogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICBzYWxlUHJpY2U6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgZGlzY291bnQ6IEpvaS5udW1iZXIoKS5taW4oMSkubWF4KDEwMCkucmVxdWlyZWQoKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGJyYW5kOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBzdG9ja1NjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgcHJvZHVjdElkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGV4aXN0aW5nU3RvY2s6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgYWRkZWRTdG9jazogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICB0b3RhbFN0b2NrOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgIG9wZXJhdGlvbjogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICByZWFzb246IEpvaS5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICBjYXJ0U2NoZW1hOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICBwcm9kdWN0czogSm9pLmFycmF5KCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBvcmRlclNjaGVtYTogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgYW1vdW50OiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgIHBheW1lbnRfbWV0aG9kOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIGRlbGl2ZXJ5X2FkZHJlc3M6IEpvaS5vYmplY3QoKS5yZXF1aXJlZCgpLFxuICAgICAgY29udGFjdF9udW1iZXI6IEpvaS5udW1iZXIoKS5pbnRlZ2VyKCkubWluKDEwMDAwMDAwMDApLm1heCg5OTk5OTk5OTk5KS5yZXF1aXJlZCgpLFxuICAgICAgc3VidG90YWw6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgZGlzY291bnQ6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgZGVsaXZlcnlfZmVlOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgIHN0YXR1czogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICBwcm9kdWN0czogSm9pLmFycmF5KCkuaXRlbXMoe1xuICAgICAgICBwcm9kdWN0OiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGNvdW50OiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgaW1hZ2U6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwcmljZTogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgIHF1YW50aXR5OiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgdW5pdHM6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgfSksXG4gICAgICBkZWxpdmVyeURhdGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgZGVsaXZlcnlUaW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgIHBheW1lbnRfZGV0YWlsczogSm9pLm9iamVjdCgpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgb3JkZXJBc3NpZ25TY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIGFzc2lnbmVkVG86IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgZGF0ZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgb3JkZXJSZXR1cm5TY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgIGFzc2lnbmVkVG86IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgZGF0ZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gIH0sXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsS0FBSyxDQUFDO0FBRTFCQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNmQyxZQUFZLEVBQUdDLE1BQU0sSUFBSztJQUN4QixPQUFPLENBQUNDLEdBQUcs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","map":{"version":3,"names":["Joi","require","module","exports","validateBody","schema","req","res","next","console","log","body","result","validate","error","status","json","value","validateParams","params","_objectSpread","query","schemas","authSchema","object","keys","name","string","required","userType","email","phone","number","integer","min","max","password","gstn","uid","loginSchema","userSchema","dob","role","gender","queryUser","referalSchema","message","referalId","interested","productList","search","categories","reviewSchema","rating","description","customerAuthSchema","image","customerloginSchema","changePassword","oldpassword","newpassword","emailSchema","toMail","title","content","otpGenerate","checkOtp","otp","updateNewpassword","confirmpassword","any","valid","ref","options","language","allowOnly","userAddress","address_line_1","address_line_2","landmark","city","state","pincode","categeorySchema","slug","bannerSchema","brandSchema","array","productSchema","images","items","price","salePrice","discount","brand","stockSchema","productId","existingStock","addedStock","totalStock","operation","reason","cartSchema","products","orderSchema","amount","payment_method","delivery_address","contact_number","subtotal","delivery_fee","product","count","quantity","units","deliveryDate","deliveryTime","payment_details","orderAssignSchema","assignedTo","date","orderReturnSchema"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/helpers/","sources":["routeHelpers.js"],"sourcesContent":["const Joi = require(\"joi\");\n\nmodule.exports = {\n  validateBody: (schema) => {\n    return (req, res, next) => {\n      console.log(\"REQ BODY =>\", req.body);\n      const result = Joi.validate(req.body, schema);\n      if (result.error) {\n        return res.status(400).json(result.error);\n      }\n      if (!req.value) {\n        req.value = {};\n      }\n      req.value[\"body\"] = result.value;\n      next();\n    };\n  },\n\n  validateParams: (schema) => {\n    return (req, res, next) => {\n      const params = { ...req.params, ...req.query };\n      const result = Joi.validate(params, schema);\n      if (result.error) {\n        return res.status(400).json(result.error);\n      }\n      next();\n    };\n  },\n\n  schemas: {\n    authSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      userType: Joi.string(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      password: Joi.string().required(),\n      gstn: Joi.string(),\n      uid: Joi.number(),\n    }),\n    loginSchema: Joi.object().keys({\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n    }),\n    userSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      password: Joi.string(),\n      dob: Joi.string().required(),\n      role: Joi.string(),\n      gender: Joi.string()\n    }),\n    queryUser: Joi.object().keys({\n      role: Joi.string(),\n    }),\n    referalSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      email: Joi.string().email().required(),\n      phone: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      message: Joi.string(),\n      referalId: Joi.string(),\n      interested: Joi.string(),\n    }),\n    productList: Joi.object().keys({\n      search: Joi.string(),\n      categories: Joi.string(),\n    }),\n    reviewSchema: Joi.object().keys({\n      rating: Joi.number().integer().min(1).max(5).required(),\n      description: Joi.string().required(),\n    }),\n    customerAuthSchema: Joi.object().keys({\n      phone: Joi.number().integer().min(1000000000).max(9999999999),\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n      name: Joi.string().required(),\n      image: Joi.string(),\n    }),\n    customerloginSchema: Joi.object().keys({\n      email: Joi.string().email().required(),\n      password: Joi.string().required(),\n      role: Joi.string().required(),\n    }),\n    changePassword: Joi.object().keys({\n      oldpassword: Joi.string().required(),\n      newpassword: Joi.string().required(),\n    }),\n    emailSchema: Joi.object().keys({\n      toMail: Joi.string().email().required(),\n      title: Joi.string().required(),\n      content: Joi.string().required(),\n    }),\n    otpGenerate: Joi.object().keys({\n      email: Joi.string().email().required(),\n    }),\n    checkOtp: Joi.object().keys({\n      email: Joi.string().email().required(),\n      otp: Joi.string().required(),\n    }),\n    updateNewpassword: Joi.object().keys({\n      email: Joi.string().email().required(),\n      newpassword: Joi.string().required(),\n      confirmpassword: Joi.any()\n        .valid(Joi.ref(\"newpassword\"))\n        .required()\n        .options({ language: { any: { allowOnly: \"must match password\" } } }),\n    }),\n    userAddress: Joi.object().keys({\n      title: Joi.string().required(),\n      name: Joi.string().required(),\n      address_line_1: Joi.string().required(),\n      address_line_2: Joi.string().required(),\n      landmark: Joi.string(),\n      city: Joi.string().required(),\n      state: Joi.string().required(),\n      pincode: Joi.number().required(),\n      phone: Joi.number().required(),\n    }),\n    categeorySchema: Joi.object().keys({\n      image: Joi.string(),\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n    }),\n    bannerSchema: Joi.object().keys({\n      image: Joi.string(),\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n    }),\n    brandSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n      categories: Joi.array().required(),\n    }),\n    productSchema: Joi.object().keys({\n      name: Joi.string().required(),\n      slug: Joi.string().required(),\n      categories: Joi.string().required(),\n      images: Joi.array().items(Joi.string()).required(),\n      price: Joi.number().required(),\n      salePrice: Joi.number().required(),\n      discount: Joi.number().min(1).max(100).required(),\n      description: Joi.string().required(),\n      brand: Joi.string().required(),\n    }),\n    stockSchema: Joi.object().keys({\n      productId: Joi.string().required(),\n      existingStock: Joi.number().required(),\n      addedStock: Joi.number().required(),\n      totalStock: Joi.number().required(),\n      operation: Joi.string().required(),\n      reason: Joi.string(),\n    }),\n    cartSchema: Joi.object().keys({\n      products: Joi.array().required(),\n    }),\n    orderSchema: Joi.object().keys({\n      amount: Joi.number().required(),\n      payment_method: Joi.string().required(),\n      delivery_address: Joi.object().required(),\n      contact_number: Joi.number().integer().min(1000000000).max(9999999999).required(),\n      subtotal: Joi.number().required(),\n      discount: Joi.number().required(),\n      delivery_fee: Joi.number().required(),\n      status: Joi.string().required(),\n      products: Joi.array().items({\n        product: Joi.string().required(),\n        name: Joi.string().required(),\n        count: Joi.number().required(),\n        image: Joi.string().required(),\n        price: Joi.number().required(),\n        quantity: Joi.number().required(),\n        units: Joi.string().required(),\n      }),\n      deliveryDate: Joi.string().required(),\n      deliveryTime: Joi.string().required(),\n      payment_details: Joi.object().required(),\n    }),\n    orderAssignSchema: Joi.object().keys({\n      assignedTo: Joi.string().required(),\n      date: Joi.string().required(),\n    }),\n    orderReturnSchema: Joi.object().keys({\n      assignedTo: Joi.string().required(),\n      date: Joi.string().required(),\n    }),\n  },\n};\n"],"mappings":"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"}},"mtime":1683647312240},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/passport.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nconst passport = require(\"passport\");\nconst JwtStrategy = require(\"passport-jwt\").Strategy;\nconst {\n  ExtractJwt\n} = require(\"passport-jwt\");\nconst LocalStrategy = require(\"passport-local\").Strategy;\n// const GoogleTokenStrategy = require('passport-google-token').Strategy;\n// const FacebookTokenStrategy = require('passport-facebook-token');\nconst config = require(\"./configuration\");\nconst Users = require(\"./models/users\");\nconst tokenExtractor = req => {\n  let token = null;\n  console.log(\"HEADERS =>\", req.headers);\n  token = req.headers.authorization;\n  return token;\n};\n\n// JSON WEB TOKENS STRATEGY\npassport.use(new JwtStrategy({\n  jwtFromRequest: tokenExtractor,\n  secretOrKey: config.JWT_SECRET,\n  passReqToCallback: true\n}, async (req, payload, done) => {\n  var user;\n  try {\n    // Find the user specified in token\n    console.log(\"payload =>\", payload);\n    user = await Users.findById(payload.sub);\n    if (!user) {\n      return done(null, false);\n    }\n    done(null, user);\n    // Otherwise, return the\n  } catch (error) {\n    done(error, false);\n  }\n}));\n\n// LOCAL STRATEGY\npassport.use(new LocalStrategy({\n  usernameField: \"email\",\n  passwordField: \"password\",\n  passReqToCallback: true\n}, async (req, email, password, done) => {\n  let user;\n  try {\n    user = await Users.findOne({\n      email: email.toLowerCase().trim()\n    });\n    if (!user) {\n      return done(null, false, {\n        message: \"User not found..\"\n      });\n    }\n    const isMatch = await user.isValidPassword(password);\n    console.log(\"MATCH =>\", isMatch);\n    if (!isMatch) {\n      return done(null, false, {\n        message: \"Invalid Credentials...\"\n      });\n    }\n    done(null, user);\n    // If not, handle it\n  } catch (error) {\n    done(error, false);\n  }\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXNzcG9ydCIsInJlcXVpcmUiLCJKd3RTdHJhdGVneSIsIlN0cmF0ZWd5IiwiRXh0cmFjdEp3dCIsIkxvY2FsU3RyYXRlZ3kiLCJjb25maWciLCJVc2VycyIsInRva2VuRXh0cmFjdG9yIiwicmVxIiwidG9rZW4iLCJjb25zb2xlIiwibG9nIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ1c2UiLCJqd3RGcm9tUmVxdWVzdCIsInNlY3JldE9yS2V5IiwiSldUX1NFQ1JFVCIsInBhc3NSZXFUb0NhbGxiYWNrIiwicGF5bG9hZCIsImRvbmUiLCJ1c2VyIiwiZmluZEJ5SWQiLCJzdWIiLCJlcnJvciIsInVzZXJuYW1lRmllbGQiLCJwYXNzd29yZEZpZWxkIiwiZW1haWwiLCJwYXNzd29yZCIsImZpbmRPbmUiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJtZXNzYWdlIiwiaXNNYXRjaCIsImlzVmFsaWRQYXNzd29yZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3ByYWRlZXByZWRkeS9EZXNrdG9wL21pdHJhLXNlcnZlci8iLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhc3Nwb3J0ID0gcmVxdWlyZShcInBhc3Nwb3J0XCIpO1xuY29uc3QgSnd0U3RyYXRlZ3kgPSByZXF1aXJlKFwicGFzc3BvcnQtand0XCIpLlN0cmF0ZWd5O1xuY29uc3QgeyBFeHRyYWN0Snd0IH0gPSByZXF1aXJlKFwicGFzc3BvcnQtand0XCIpO1xuY29uc3QgTG9jYWxTdHJhdGVneSA9IHJlcXVpcmUoXCJwYXNzcG9ydC1sb2NhbFwiKS5TdHJhdGVneTtcbi8vIGNvbnN0IEdvb2dsZVRva2VuU3RyYXRlZ3kgPSByZXF1aXJlKCdwYXNzcG9ydC1nb29nbGUtdG9rZW4nKS5TdHJhdGVneTtcbi8vIGNvbnN0IEZhY2Vib29rVG9rZW5TdHJhdGVneSA9IHJlcXVpcmUoJ3Bhc3Nwb3J0LWZhY2Vib29rLXRva2VuJyk7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKFwiLi9jb25maWd1cmF0aW9uXCIpO1xuY29uc3QgVXNlcnMgPSByZXF1aXJlKFwiLi9tb2RlbHMvdXNlcnNcIik7XG5cbmNvbnN0IHRva2VuRXh0cmFjdG9yID0gKHJlcSkgPT4ge1xuICBsZXQgdG9rZW4gPSBudWxsO1xuICBjb25zb2xlLmxvZyhcIkhFQURFUlMgPT5cIiwgcmVxLmhlYWRlcnMpO1xuICB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gIHJldHVybiB0b2tlbjtcbn07XG5cbi8vIEpTT04gV0VCIFRPS0VOUyBTVFJBVEVHWVxucGFzc3BvcnQudXNlKFxuICBuZXcgSnd0U3RyYXRlZ3koXG4gICAge1xuICAgICAgand0RnJvbVJlcXVlc3Q6IHRva2VuRXh0cmFjdG9yLFxuICAgICAgc2VjcmV0T3JLZXk6IGNvbmZpZy5KV1RfU0VDUkVULFxuICAgICAgcGFzc1JlcVRvQ2FsbGJhY2s6IHRydWUsXG4gICAgfSxcbiAgICBhc3luYyAocmVxLCBwYXlsb2FkLCBkb25lKSA9PiB7XG4gICAgICB2YXIgdXNlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIHVzZXIgc3BlY2lmaWVkIGluIHRva2VuXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGF5bG9hZCA9PlwiLCBwYXlsb2FkKTtcbiAgICAgICAgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeUlkKHBheWxvYWQuc3ViKTtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGRvbmUobnVsbCwgdXNlcik7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgcmV0dXJuIHRoZVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZG9uZShlcnJvciwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgKVxuKTtcblxuLy8gTE9DQUwgU1RSQVRFR1lcbnBhc3Nwb3J0LnVzZShcbiAgbmV3IExvY2FsU3RyYXRlZ3koXG4gICAge1xuICAgICAgdXNlcm5hbWVGaWVsZDogXCJlbWFpbFwiLFxuICAgICAgcGFzc3dvcmRGaWVsZDogXCJwYXNzd29yZFwiLFxuICAgICAgcGFzc1JlcVRvQ2FsbGJhY2s6IHRydWUsXG4gICAgfSxcbiAgICBhc3luYyAocmVxLCBlbWFpbCwgcGFzc3dvcmQsIGRvbmUpID0+IHtcbiAgICAgIGxldCB1c2VyO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRPbmUoeyBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKS50cmltKCkgfSk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7IG1lc3NhZ2U6IFwiVXNlciBub3QgZm91bmQuLlwiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzTWF0Y2ggPSBhd2FpdCB1c2VyLmlzVmFsaWRQYXNzd29yZChwYXNzd29yZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTUFUQ0ggPT5cIiwgaXNNYXRjaCk7XG4gICAgICAgIGlmICghaXNNYXRjaCkge1xuICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7IG1lc3NhZ2U6IFwiSW52YWxpZCBDcmVkZW50aWFscy4uLlwiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRvbmUobnVsbCwgdXNlcik7XG4gICAgICAgIC8vIElmIG5vdCwgaGFuZGxlIGl0XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBkb25lKGVycm9yLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICApXG4pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQ0UsUUFBUTtBQUNwRCxNQUFNO0VBQUVDO0FBQVcsQ0FBQyxHQUFHSCxPQUFPLENBQUMsY0FBYyxDQUFD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","map":{"version":3,"names":["passport","require","JwtStrategy","Strategy","ExtractJwt","LocalStrategy","config","Users","tokenExtractor","req","token","console","log","headers","authorization","use","jwtFromRequest","secretOrKey","JWT_SECRET","passReqToCallback","payload","done","user","findById","sub","error","usernameField","passwordField","email","password","findOne","toLowerCase","trim","message","isMatch","isValidPassword"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/","sources":["passport.js"],"sourcesContent":["const passport = require(\"passport\");\nconst JwtStrategy = require(\"passport-jwt\").Strategy;\nconst { ExtractJwt } = require(\"passport-jwt\");\nconst LocalStrategy = require(\"passport-local\").Strategy;\n// const GoogleTokenStrategy = require('passport-google-token').Strategy;\n// const FacebookTokenStrategy = require('passport-facebook-token');\nconst config = require(\"./configuration\");\nconst Users = require(\"./models/users\");\n\nconst tokenExtractor = (req) => {\n  let token = null;\n  console.log(\"HEADERS =>\", req.headers);\n  token = req.headers.authorization;\n  return token;\n};\n\n// JSON WEB TOKENS STRATEGY\npassport.use(\n  new JwtStrategy(\n    {\n      jwtFromRequest: tokenExtractor,\n      secretOrKey: config.JWT_SECRET,\n      passReqToCallback: true,\n    },\n    async (req, payload, done) => {\n      var user;\n      try {\n        // Find the user specified in token\n        console.log(\"payload =>\", payload);\n        user = await Users.findById(payload.sub);\n        if (!user) {\n          return done(null, false);\n        }\n        done(null, user);\n        // Otherwise, return the\n      } catch (error) {\n        done(error, false);\n      }\n    }\n  )\n);\n\n// LOCAL STRATEGY\npassport.use(\n  new LocalStrategy(\n    {\n      usernameField: \"email\",\n      passwordField: \"password\",\n      passReqToCallback: true,\n    },\n    async (req, email, password, done) => {\n      let user;\n      try {\n        user = await Users.findOne({ email: email.toLowerCase().trim() });\n        if (!user) {\n          return done(null, false, { message: \"User not found..\" });\n        }\n        const isMatch = await user.isValidPassword(password);\n        console.log(\"MATCH =>\", isMatch);\n        if (!isMatch) {\n          return done(null, false, { message: \"Invalid Credentials...\" });\n        }\n        done(null, user);\n        // If not, handle it\n      } catch (error) {\n        done(error, false);\n      }\n    }\n  )\n);\n"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,WAAW,GAAGD,OAAO,CAAC,cAAc,CAAC,CAACE,QAAQ;AACpD,MAAM;EAAEC;AAAW,CAAC,GAAGH,OAAO,CAAC,cAAc,CAAC;AAC9C,MAAMI,aAAa,GAAGJ,OAAO,CAAC,gBAAgB,CAAC,CAACE,QAAQ;AACxD;AACA;AACA,MAAMG,MAAM,GAAGL,OAAO,CAAC,iBAAiB,CAAC;AACzC,MAAMM,KAAK,GAAGN,OAAO,CAAC,gBAAgB,CAAC;AAEvC,MAAMO,cAAc,GAAIC,GAAG,IAAK;EAC9B,IAAIC,KAAK,GAAG,IAAI;EAChBC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEH,GAAG,CAACI,OAAO,CAAC;EACtCH,KAAK,GAAGD,GAAG,CAACI,OAAO,CAACC,aAAa;EACjC,OAAOJ,KAAK;AACd,CAAC;;AAED;AACAV,QAAQ,CAACe,GAAG,CACV,IAAIb,WAAW,CACb;EACEc,cAAc,EAAER,cAAc;EAC9BS,WAAW,EAAEX,MAAM,CAACY,UAAU;EAC9BC,iBAAiB,EAAE;AACrB,CAAC,EACD,OAAOV,GAAG,EAAEW,OAAO,EAAEC,IAAI,KAAK;EAC5B,IAAIC,IAAI;EACR,IAAI;IACF;IACAX,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEQ,OAAO,CAAC;IAClCE,IAAI,GAAG,MAAMf,KAAK,CAACgB,QAAQ,CAACH,OAAO,CAACI,GAAG,CAAC;IACxC,IAAI,CAACF,IAAI,EAAE;MACT,OAAOD,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;IAC1B;IACAA,IAAI,CAAC,IAAI,EAAEC,IAAI,CAAC;IAChB;EACF,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdJ,IAAI,CAACI,KAAK,EAAE,KAAK,CAAC;EACpB;AACF,CACF,CACF,CAAC;;AAED;AACAzB,QAAQ,CAACe,GAAG,CACV,IAAIV,aAAa,CACf;EACEqB,aAAa,EAAE,OAAO;EACtBC,aAAa,EAAE,UAAU;EACzBR,iBAAiB,EAAE;AACrB,CAAC,EACD,OAAOV,GAAG,EAAEmB,KAAK,EAAEC,QAAQ,EAAER,IAAI,KAAK;EACpC,IAAIC,IAAI;EACR,IAAI;IACFA,IAAI,GAAG,MAAMf,KAAK,CAACuB,OAAO,CAAC;MAAEF,KAAK,EAAEA,KAAK,CAACG,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC;IAAE,CAAC,CAAC;IACjE,IAAI,CAACV,IAAI,EAAE;MACT,OAAOD,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;QAAEY,OAAO,EAAE;MAAmB,CAAC,CAAC;IAC3D;IACA,MAAMC,OAAO,GAAG,MAAMZ,IAAI,CAACa,eAAe,CAACN,QAAQ,CAAC;IACpDlB,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEsB,OAAO,CAAC;IAChC,IAAI,CAACA,OAAO,EAAE;MACZ,OAAOb,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE;QAAEY,OAAO,EAAE;MAAyB,CAAC,CAAC;IACjE;IACAZ,IAAI,CAAC,IAAI,EAAEC,IAAI,CAAC;IAChB;EACF,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdJ,IAAI,CAACI,KAAK,EAAE,KAAK,CAAC;EACpB;AACF,CACF,CACF,CAAC"}},"mtime":1683646995036},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/models/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nconst mongoose = require(\"mongoose\");\nconst bcrypt = require(\"bcryptjs\");\nconst Schema = mongoose.Schema;\n\n// Create a schema\nconst userSchema = new Schema({\n  name: String,\n  email: String,\n  phone: Number,\n  role: String,\n  password: String,\n  dob: String,\n  gender: String,\n  createdBy: {\n    type: Schema.Types.ObjectId,\n    ref: \"users\"\n  },\n  modifiedBy: {\n    type: Schema.Types.ObjectId,\n    ref: \"users\"\n  }\n}, {\n  timestamps: true\n});\nuserSchema.pre(\"save\", async function (next) {\n  try {\n    const user = this;\n    //check if the admin has been modified to know if the password has already been hashed\n    if (!user.isModified(\"password\")) {\n      next();\n    }\n    // Generate a salt\n    const salt = await bcrypt.genSalt(10);\n    // Generate a password hash (salt + hash)\n    console.log(\"Password =>\", this.password);\n    this.password = await bcrypt.hash(this.password, salt);\n    console.log(\"exited\");\n    next();\n  } catch (error) {\n    next(error);\n  }\n});\nuserSchema.pre(\"findOneAndUpdate\", function (next) {\n  if (!this._update.password) {\n    return next();\n  }\n  this._update.password = bcrypt.hashSync(this._update.password, 10);\n  next();\n});\nuserSchema.methods.isValidPassword = async function (newPassword) {\n  console.log(newPassword, this.password);\n  try {\n    return await bcrypt.compare(newPassword, this.password);\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\n// Create a model\nconst Users = mongoose.model(\"users\", userSchema, \"users\");\n\n// Export the model\nmodule.exports = Users;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJTY2hlbWEiLCJ1c2VyU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsImVtYWlsIiwicGhvbmUiLCJOdW1iZXIiLCJyb2xlIiwicGFzc3dvcmQiLCJkb2IiLCJnZW5kZXIiLCJjcmVhdGVkQnkiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsIm1vZGlmaWVkQnkiLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsInVzZXIiLCJpc01vZGlmaWVkIiwic2FsdCIsImdlblNhbHQiLCJjb25zb2xlIiwibG9nIiwiaGFzaCIsImVycm9yIiwiX3VwZGF0ZSIsImhhc2hTeW5jIiwibWV0aG9kcyIsImlzVmFsaWRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwiY29tcGFyZSIsIkVycm9yIiwiVXNlcnMiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9wcmFkZWVwcmVkZHkvRGVza3RvcC9taXRyYS1zZXJ2ZXIvbW9kZWxzLyIsInNvdXJjZXMiOlsidXNlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0anNcIik7XG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbi8vIENyZWF0ZSBhIHNjaGVtYVxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoXG4gIHtcbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgZW1haWw6IFN0cmluZyxcbiAgICBwaG9uZTogTnVtYmVyLFxuICAgIHJvbGU6IFN0cmluZyxcbiAgICBwYXNzd29yZDogU3RyaW5nLFxuICAgIGRvYjogU3RyaW5nLFxuICAgIGdlbmRlcjogU3RyaW5nLFxuICAgIGNyZWF0ZWRCeTogeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJ1c2Vyc1wiIH0sXG4gICAgbW9kaWZpZWRCeTogeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJ1c2Vyc1wiIH0sXG4gIH0sXG4gIHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxuICB9XG4pO1xuXG51c2VyU2NoZW1hLnByZShcInNhdmVcIiwgYXN5bmMgZnVuY3Rpb24gKG5leHQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gdGhpcztcbiAgICAvL2NoZWNrIGlmIHRoZSBhZG1pbiBoYXMgYmVlbiBtb2RpZmllZCB0byBrbm93IGlmIHRoZSBwYXNzd29yZCBoYXMgYWxyZWFkeSBiZWVuIGhhc2hlZFxuICAgIGlmICghdXNlci5pc01vZGlmaWVkKFwicGFzc3dvcmRcIikpIHtcbiAgICAgIG5leHQoKTtcbiAgICB9XG4gICAgLy8gR2VuZXJhdGUgYSBzYWx0XG4gICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcbiAgICAvLyBHZW5lcmF0ZSBhIHBhc3N3b3JkIGhhc2ggKHNhbHQgKyBoYXNoKVxuICAgIGNvbnNvbGUubG9nKFwiUGFzc3dvcmQgPT5cIiwgdGhpcy5wYXNzd29yZCk7XG4gICAgdGhpcy5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIHNhbHQpO1xuICAgIGNvbnNvbGUubG9nKFwiZXhpdGVkXCIpO1xuICAgIG5leHQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yKTtcbiAgfVxufSk7XG51c2VyU2NoZW1hLnByZShcImZpbmRPbmVBbmRVcGRhdGVcIiwgZnVuY3Rpb24gKG5leHQpIHtcbiAgaWYgKCF0aGlzLl91cGRhdGUucGFzc3dvcmQpIHtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9XG4gIHRoaXMuX3VwZGF0ZS5wYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYyh0aGlzLl91cGRhdGUucGFzc3dvcmQsIDEwKTtcbiAgbmV4dCgpO1xufSk7XG51c2VyU2NoZW1hLm1ldGhvZHMuaXNWYWxpZFBhc3N3b3JkID0gYXN5bmMgZnVuY3Rpb24gKG5ld1Bhc3N3b3JkKSB7XG4gIGNvbnNvbGUubG9nKG5ld1Bhc3N3b3JkLCB0aGlzLnBhc3N3b3JkKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUobmV3UGFzc3dvcmQsIHRoaXMucGFzc3dvcmQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbi8vIENyZWF0ZSBhIG1vZGVsXG5jb25zdCBVc2VycyA9IG1vbmdvb3NlLm1vZGVsKFwidXNlcnNcIiwgdXNlclNjaGVtYSwgXCJ1c2Vyc1wiKTtcblxuLy8gRXhwb3J0IHRoZSBtb2RlbFxubW9kdWxlLmV4cG9ydHMgPSBVc2VycztcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDcEMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLE1BQU1FLE1BQU0sR0FBR0gsUUFBUSxDQUFDRyxNQUFNOztBQUU5QjtBQUNBLE1BQU1DLFVBQVUsR0FBRyxJQUFJRCxNQUFNLENBQzNCO0VBQ0VFLElBQUksRUFBRUMsTUFBTTtFQUNaQyxLQUFLLEVBQUVELE1BQU07RUFDYkUsS0FBSyxFQUFFQyxNQUFNO0VBQ2JDLElBQUksRUFBRUosTUFBTTtFQUNaSyxRQUFRLEVBQUVMLE1BQU07RUFDaEJNLEdBQUcsRUFBRU4sTUFBTTtFQUNYTyxNQUFNLEVBQUVQLE1BQU07RUFDZFEsU0FBUyxFQUFFO0lBQUVDLElBQUksRUFBRVosTUFBTSxDQUFDYSxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQVEsQ0FBQztFQUN4REMsVUFBVSxFQUFFO0lBQUVKLElBQUksRUFBRVosTUFBTSxDQUFDYSxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQVE7QUFDMUQsQ0FBQyxFQUNEO0VBQ0VFLFVBQVUsRUFBRTtBQUNkLENBQ0YsQ0FBQztBQUVEaEIsVUFBVSxDQUFDaUIsR0FBRyxDQUFDLE1BQU0sRUFBRSxnQkFBZ0JDLElBQUksRUFBRTtFQUMzQyxJQUFJO0lBQ0YsTUFBTUMsSUFBSSxHQUFHLElBQUk7SUFDakI7SUFDQSxJQUFJLENBQUNBLElBQUksQ0FBQ0MsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFO01BQ2hDRixJQUFJLENBQUMsQ0FBQztJQUNSO0lBQ0E7SUFDQSxNQUFNRyxJQUFJLEdBQUcsTUFBTXZCLE1BQU0sQ0FBQ3dCLE9BQU8sQ0FBQyxFQUFFLENBQUM7SUFDckM7SUFDQUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQ2pCLFFBQVEsQ0FBQztJQUN6QyxJQUFJLENBQUNBLFFBQVEsR0FBRyxNQUFNVCxNQUFNLENBQUMyQixJQUFJLENBQUMsSUFBSSxDQUFDbEIsUUFBUSxFQUFFYyxJQUFJLENBQUM7SUFDdERFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztJQUNyQk4sSUFBSSxDQUFDLENBQUM7RUFDUixDQUFDLENBQUMsT0FBT1EsS0FBSyxFQUFFO0lBQ2RSLElBQUksQ0FBQ1EsS0FBSyxDQUFDO0VBQ2I7QUFDRixDQUFDLENBQUM7QUFDRjFCLFVBQVUsQ0FBQ2lCLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxVQUFVQyxJQUFJLEVBQUU7RUFDakQsSUFBSSxDQUFDLElBQUksQ0FBQ1MsT0FBTyxDQUFDcEIsUUFBUSxFQUFFO0lBQzFCLE9BQU9XLElBQUksQ0FBQyxDQUFDO0VBQ2Y7RUFDQSxJQUFJLENBQUNTLE9BQU8sQ0FBQ3BCLFFBQVEsR0FBR1QsTUFBTSxDQUFDOEIsUUFBUSxDQUFDLElBQUksQ0FBQ0QsT0FBTyxDQUFDcEIsUUFBUSxFQUFFLEVBQUUsQ0FBQztFQUNsRVcsSUFBSSxDQUFDLENBQUM7QUFDUixDQUFDLENBQUM7QUFDRmxCLFVBQVUsQ0FBQzZCLE9BQU8sQ0FBQ0MsZUFBZSxHQUFHLGdCQUFnQkMsV0FBVyxFQUFFO0VBQ2hFUixPQUFPLENBQUNDLEdBQUcsQ0FBQ08sV0FBVyxFQUFFLElBQUksQ0FBQ3hCLFFBQVEsQ0FBQztFQUN2QyxJQUFJO0lBQ0YsT0FBTyxNQUFNVCxNQUFNLENBQUNrQyxPQUFPLENBQUNELFdBQVcsRUFBRSxJQUFJLENBQUN4QixRQUFRLENBQUM7RUFDekQsQ0FBQyxDQUFDLE9BQU9tQixLQUFLLEVBQUU7SUFDZCxNQUFNLElBQUlPLEtBQUssQ0FBQ1AsS0FBSyxDQUFDO0VBQ3hCO0FBQ0YsQ0FBQzs7QUFFRDtBQUNBLE1BQU1RLEtBQUssR0FBR3RDLFFBQVEsQ0FBQ3VDLEtBQUssQ0FBQyxPQUFPLEVBQUVuQyxVQUFVLEVBQUUsT0FBTyxDQUFDOztBQUUxRDtBQUNBb0MsTUFBTSxDQUFDQyxPQUFPLEdBQUdILEtBQUsifQ==","map":{"version":3,"names":["mongoose","require","bcrypt","Schema","userSchema","name","String","email","phone","Number","role","password","dob","gender","createdBy","type","Types","ObjectId","ref","modifiedBy","timestamps","pre","next","user","isModified","salt","genSalt","console","log","hash","error","_update","hashSync","methods","isValidPassword","newPassword","compare","Error","Users","model","module","exports"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/models/","sources":["users.js"],"sourcesContent":["const mongoose = require(\"mongoose\");\nconst bcrypt = require(\"bcryptjs\");\nconst Schema = mongoose.Schema;\n\n// Create a schema\nconst userSchema = new Schema(\n  {\n    name: String,\n    email: String,\n    phone: Number,\n    role: String,\n    password: String,\n    dob: String,\n    gender: String,\n    createdBy: { type: Schema.Types.ObjectId, ref: \"users\" },\n    modifiedBy: { type: Schema.Types.ObjectId, ref: \"users\" },\n  },\n  {\n    timestamps: true,\n  }\n);\n\nuserSchema.pre(\"save\", async function (next) {\n  try {\n    const user = this;\n    //check if the admin has been modified to know if the password has already been hashed\n    if (!user.isModified(\"password\")) {\n      next();\n    }\n    // Generate a salt\n    const salt = await bcrypt.genSalt(10);\n    // Generate a password hash (salt + hash)\n    console.log(\"Password =>\", this.password);\n    this.password = await bcrypt.hash(this.password, salt);\n    console.log(\"exited\");\n    next();\n  } catch (error) {\n    next(error);\n  }\n});\nuserSchema.pre(\"findOneAndUpdate\", function (next) {\n  if (!this._update.password) {\n    return next();\n  }\n  this._update.password = bcrypt.hashSync(this._update.password, 10);\n  next();\n});\nuserSchema.methods.isValidPassword = async function (newPassword) {\n  console.log(newPassword, this.password);\n  try {\n    return await bcrypt.compare(newPassword, this.password);\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\n// Create a model\nconst Users = mongoose.model(\"users\", userSchema, \"users\");\n\n// Export the model\nmodule.exports = Users;\n"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAU,CAAC;AAClC,MAAME,MAAM,GAAGH,QAAQ,CAACG,MAAM;;AAE9B;AACA,MAAMC,UAAU,GAAG,IAAID,MAAM,CAC3B;EACEE,IAAI,EAAEC,MAAM;EACZC,KAAK,EAAED,MAAM;EACbE,KAAK,EAAEC,MAAM;EACbC,IAAI,EAAEJ,MAAM;EACZK,QAAQ,EAAEL,MAAM;EAChBM,GAAG,EAAEN,MAAM;EACXO,MAAM,EAAEP,MAAM;EACdQ,SAAS,EAAE;IAAEC,IAAI,EAAEZ,MAAM,CAACa,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAQ,CAAC;EACxDC,UAAU,EAAE;IAAEJ,IAAI,EAAEZ,MAAM,CAACa,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAQ;AAC1D,CAAC,EACD;EACEE,UAAU,EAAE;AACd,CACF,CAAC;AAEDhB,UAAU,CAACiB,GAAG,CAAC,MAAM,EAAE,gBAAgBC,IAAI,EAAE;EAC3C,IAAI;IACF,MAAMC,IAAI,GAAG,IAAI;IACjB;IACA,IAAI,CAACA,IAAI,CAACC,UAAU,CAAC,UAAU,CAAC,EAAE;MAChCF,IAAI,CAAC,CAAC;IACR;IACA;IACA,MAAMG,IAAI,GAAG,MAAMvB,MAAM,CAACwB,OAAO,CAAC,EAAE,CAAC;IACrC;IACAC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAE,IAAI,CAACjB,QAAQ,CAAC;IACzC,IAAI,CAACA,QAAQ,GAAG,MAAMT,MAAM,CAAC2B,IAAI,CAAC,IAAI,CAAClB,QAAQ,EAAEc,IAAI,CAAC;IACtDE,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACrBN,IAAI,CAAC,CAAC;EACR,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdR,IAAI,CAACQ,KAAK,CAAC;EACb;AACF,CAAC,CAAC;AACF1B,UAAU,CAACiB,GAAG,CAAC,kBAAkB,EAAE,UAAUC,IAAI,EAAE;EACjD,IAAI,CAAC,IAAI,CAACS,OAAO,CAACpB,QAAQ,EAAE;IAC1B,OAAOW,IAAI,CAAC,CAAC;EACf;EACA,IAAI,CAACS,OAAO,CAACpB,QAAQ,GAAGT,MAAM,CAAC8B,QAAQ,CAAC,IAAI,CAACD,OAAO,CAACpB,QAAQ,EAAE,EAAE,CAAC;EAClEW,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AACFlB,UAAU,CAAC6B,OAAO,CAACC,eAAe,GAAG,gBAAgBC,WAAW,EAAE;EAChER,OAAO,CAACC,GAAG,CAACO,WAAW,EAAE,IAAI,CAACxB,QAAQ,CAAC;EACvC,IAAI;IACF,OAAO,MAAMT,MAAM,CAACkC,OAAO,CAACD,WAAW,EAAE,IAAI,CAACxB,QAAQ,CAAC;EACzD,CAAC,CAAC,OAAOmB,KAAK,EAAE;IACd,MAAM,IAAIO,KAAK,CAACP,KAAK,CAAC;EACxB;AACF,CAAC;;AAED;AACA,MAAMQ,KAAK,GAAGtC,QAAQ,CAACuC,KAAK,CAAC,OAAO,EAAEnC,UAAU,EAAE,OAAO,CAAC;;AAE1D;AACAoC,MAAM,CAACC,OAAO,GAAGH,KAAK"}},"mtime":1682618255091},"{\"assumptions\":{},\"sourceRoot\":\"/Users/pradeepreddy/Desktop/mitra-server/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"filename\":\"/Users/pradeepreddy/Desktop/mitra-server/controllers/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/pradeepreddy/Desktop/mitra-server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst JWT = require(\"jsonwebtoken\");\nconst Users = require(\"../models/users\");\nconst {\n  JWT_SECRET\n} = require(\"../configuration\");\nconst signToken = user => {\n  return JWT.sign({\n    iss: \"mitra-society\",\n    sub: user.id,\n    iat: new Date().getTime(),\n    // current time\n    exp: new Date().setDate(new Date().getDate() + 1) // current time + 1 day ahead\n  }, JWT_SECRET);\n};\nmodule.exports = {\n  createUser: async (req, res, next) => {\n    const {\n      email,\n      phone\n    } = req.body;\n    let foundUser = await Users.findOne({\n      $or: [{\n        email: email.toLowerCase().trim()\n      }, {\n        phone: phone\n      }]\n    });\n    if (foundUser) {\n      return res.status(400).json({\n        message: `${foundUser.role || 'user'} already exists with the ${foundUser.email === email ? \"Email\" : \"Phone number\"}`\n      });\n    }\n    const cusObj = _objectSpread(_objectSpread({}, req.body), {}, {\n      password: req.body.dob,\n      createdBy: req.user?._id\n    });\n    const newUsers = new Users(cusObj);\n    await newUsers.save();\n    res.status(200).json({\n      message: \"User created successfully\"\n    });\n  },\n  deleteUser: async (req, res, next) => {\n    Users.findOneAndDelete({\n      _id: req.params.id\n    }, (err, data) => {\n      if (err) res.status(500).json({\n        message: \"Sorry something went wrong! please try later...\",\n        error: err\n      });else res.json({\n        message: \"Successfully Deleted.\"\n      });\n    });\n  },\n  signIn: async (req, res, next) => {\n    const token = signToken(req.user);\n    res.status(200).json({\n      token\n    });\n  },\n  signOut: async (req, res, next) => {\n    res.clearCookie(\"access_token\");\n    res.json({\n      success: true\n    });\n  },\n  checkAuth: async (req, res, next) => {\n    const token = signToken(req.user);\n    console.log(\"I managed to get here!\");\n    res.json({\n      token\n    });\n  },\n  getUsers: async (req, res, next) => {\n    Users.find({}).exec((err, response) => {\n      res.send(response.filter(o => _objectSpread(_objectSpread({}, o), {}, {\n        password: undefined\n      })));\n    });\n  },\n  updateProfile: async (req, res) => {\n    Users.findOneAndUpdate({\n      _id: req.user.id\n    }, req.body, (err, response) => {\n      if (err) res.status(400).json({\n        message: \"Error in updating user\"\n      });else res.json(response);\n    });\n  },\n  updateUser: async (req, res) => {\n    Users.findOneAndUpdate({\n      _id: req.params.id\n    }, req.body, (err, response) => {\n      if (err) res.status(400).json({\n        message: \"Error in updating user\"\n      });else res.json(response);\n    });\n  },\n  getProfile: async (req, res) => {\n    console.log(\"USER =>\", req.user);\n    const profile = req.user;\n    delete req.password;\n    res.send(profile);\n  },\n  deleteUser: async (req, res) => {\n    Users.findOneAndDelete({\n      _id: req.params.id\n    }, function (err, response) {\n      if (err) res.json({\n        message: \"Error in deleteting product\"\n      });\n      res.json(response);\n    });\n  },\n  updateNewPassword: async (req, res) => {\n    let foundUser = await Users.findOne({\n      email: req.body.email.toLowerCase().trim()\n    });\n    if (!foundUser) {\n      return res.status(403).json({\n        error: \"Email is not exit\"\n      });\n    }\n    Users.findOneAndUpdate({\n      email: req.body.email.toLowerCase().trim()\n    }, {\n      password: req.body.newpassword\n    }, (err, response) => {\n      const token = signToken(Users);\n      if (err) res.status(400).json({\n        message: \"Error in updating customer\"\n      });else res.json({\n        token,\n        profile: req.user\n      });\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKV1QiLCJyZXF1aXJlIiwiVXNlcnMiLCJKV1RfU0VDUkVUIiwic2lnblRva2VuIiwidXNlciIsInNpZ24iLCJpc3MiLCJzdWIiLCJpZCIsImlhdCIsIkRhdGUiLCJnZXRUaW1lIiwiZXhwIiwic2V0RGF0ZSIsImdldERhdGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlVXNlciIsInJlcSIsInJlcyIsIm5leHQiLCJlbWFpbCIsInBob25lIiwiYm9keSIsImZvdW5kVXNlciIsImZpbmRPbmUiLCIkb3IiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInJvbGUiLCJjdXNPYmoiLCJfb2JqZWN0U3ByZWFkIiwicGFzc3dvcmQiLCJkb2IiLCJjcmVhdGVkQnkiLCJfaWQiLCJuZXdVc2VycyIsInNhdmUiLCJkZWxldGVVc2VyIiwiZmluZE9uZUFuZERlbGV0ZSIsInBhcmFtcyIsImVyciIsImRhdGEiLCJlcnJvciIsInNpZ25JbiIsInRva2VuIiwic2lnbk91dCIsImNsZWFyQ29va2llIiwic3VjY2VzcyIsImNoZWNrQXV0aCIsImNvbnNvbGUiLCJsb2ciLCJnZXRVc2VycyIsImZpbmQiLCJleGVjIiwicmVzcG9uc2UiLCJzZW5kIiwiZmlsdGVyIiwibyIsInVuZGVmaW5lZCIsInVwZGF0ZVByb2ZpbGUiLCJmaW5kT25lQW5kVXBkYXRlIiwidXBkYXRlVXNlciIsImdldFByb2ZpbGUiLCJwcm9maWxlIiwidXBkYXRlTmV3UGFzc3dvcmQiLCJuZXdwYXNzd29yZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3ByYWRlZXByZWRkeS9EZXNrdG9wL21pdHJhLXNlcnZlci9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpXVCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5jb25zdCBVc2VycyA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvdXNlcnNcIik7XG5jb25zdCB7IEpXVF9TRUNSRVQgfSA9IHJlcXVpcmUoXCIuLi9jb25maWd1cmF0aW9uXCIpO1xuXG5jb25zdCBzaWduVG9rZW4gPSAodXNlcikgPT4ge1xuICByZXR1cm4gSldULnNpZ24oXG4gICAge1xuICAgICAgaXNzOiBcIm1pdHJhLXNvY2lldHlcIixcbiAgICAgIHN1YjogdXNlci5pZCxcbiAgICAgIGlhdDogbmV3IERhdGUoKS5nZXRUaW1lKCksIC8vIGN1cnJlbnQgdGltZVxuICAgICAgZXhwOiBuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgKyAxKSwgLy8gY3VycmVudCB0aW1lICsgMSBkYXkgYWhlYWRcbiAgICB9LFxuICAgIEpXVF9TRUNSRVRcbiAgKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVVc2VyOiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB7IGVtYWlsLCBwaG9uZSB9ID0gcmVxLmJvZHk7XG4gICAgbGV0IGZvdW5kVXNlciA9IGF3YWl0IFVzZXJzLmZpbmRPbmUoe1xuICAgICAgJG9yOiBbeyBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKS50cmltKCkgfSwgeyBwaG9uZTogcGhvbmUgfV0sXG4gICAgfSk7XG4gICAgaWYgKGZvdW5kVXNlcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogYCR7Zm91bmRVc2VyLnJvbGUgfHwgJ3VzZXInfSBhbHJlYWR5IGV4aXN0cyB3aXRoIHRoZSAke1xuICAgICAgICAgIGZvdW5kVXNlci5lbWFpbCA9PT0gZW1haWwgPyBcIkVtYWlsXCIgOiBcIlBob25lIG51bWJlclwiXG4gICAgICAgIH1gLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGN1c09iaiA9IHtcbiAgICAgIC4uLnJlcS5ib2R5LFxuICAgICAgcGFzc3dvcmQ6IHJlcS5ib2R5LmRvYixcbiAgICAgIGNyZWF0ZWRCeTogcmVxLnVzZXI/Ll9pZCxcbiAgICB9O1xuICAgIGNvbnN0IG5ld1VzZXJzID0gbmV3IFVzZXJzKGN1c09iaik7XG4gICAgYXdhaXQgbmV3VXNlcnMuc2F2ZSgpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJVc2VyIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5XCIgfSk7XG4gIH0sXG5cbiAgZGVsZXRlVXNlcjogYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgVXNlcnMuZmluZE9uZUFuZERlbGV0ZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9LCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICBpZiAoZXJyKVxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogXCJTb3JyeSBzb21ldGhpbmcgd2VudCB3cm9uZyEgcGxlYXNlIHRyeSBsYXRlci4uLlwiLFxuICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgIH0pO1xuICAgICAgZWxzZSByZXMuanNvbih7IG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IERlbGV0ZWQuXCIgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgc2lnbkluOiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHNpZ25Ub2tlbihyZXEudXNlcik7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuIH0pO1xuICB9LFxuXG4gIHNpZ25PdXQ6IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5jbGVhckNvb2tpZShcImFjY2Vzc190b2tlblwiKTtcbiAgICByZXMuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gIH0sXG5cbiAgY2hlY2tBdXRoOiBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHNpZ25Ub2tlbihyZXEudXNlcik7XG4gICAgY29uc29sZS5sb2coXCJJIG1hbmFnZWQgdG8gZ2V0IGhlcmUhXCIpO1xuICAgIHJlcy5qc29uKHsgdG9rZW4gfSk7XG4gIH0sXG5cbiAgZ2V0VXNlcnM6IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIFVzZXJzLmZpbmQoe30pXG4gICAgICAuZXhlYygoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJlcy5zZW5kKHJlc3BvbnNlLmZpbHRlcihvID0+ICh7Li4ubywgcGFzc3dvcmQ6IHVuZGVmaW5lZH0pKSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gIH0sXG5cbiAgdXBkYXRlUHJvZmlsZTogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgVXNlcnMuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogcmVxLnVzZXIuaWQgfSwgcmVxLmJvZHksIChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAoZXJyKSByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiRXJyb3IgaW4gdXBkYXRpbmcgdXNlclwiIH0pO1xuICAgICAgZWxzZSByZXMuanNvbihyZXNwb25zZSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgdXBkYXRlVXNlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgVXNlcnMuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9LCByZXEuYm9keSwgKGVyciwgcmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChlcnIpIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBpbiB1cGRhdGluZyB1c2VyXCIgfSk7XG4gICAgICBlbHNlIHJlcy5qc29uKHJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfSxcblxuICBnZXRQcm9maWxlOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlVTRVIgPT5cIiwgcmVxLnVzZXIpO1xuICAgIGNvbnN0IHByb2ZpbGUgPSByZXEudXNlcjtcbiAgICBkZWxldGUgcmVxLnBhc3N3b3JkO1xuICAgIHJlcy5zZW5kKHByb2ZpbGUpO1xuICB9LFxuXG4gIGRlbGV0ZVVzZXI6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIFVzZXJzLmZpbmRPbmVBbmREZWxldGUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSwgZnVuY3Rpb24gKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgIGlmIChlcnIpIHJlcy5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBpbiBkZWxldGV0aW5nIHByb2R1Y3RcIiB9KTtcbiAgICAgIHJlcy5qc29uKHJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfSxcblxuICB1cGRhdGVOZXdQYXNzd29yZDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgbGV0IGZvdW5kVXNlciA9IGF3YWl0IFVzZXJzLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwudG9Mb3dlckNhc2UoKS50cmltKCkgfSk7XG4gICAgaWYgKCFmb3VuZFVzZXIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IGVycm9yOiBcIkVtYWlsIGlzIG5vdCBleGl0XCIgfSk7XG4gICAgfVxuICAgIFVzZXJzLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgICB7IGVtYWlsOiByZXEuYm9keS5lbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKSB9LFxuICAgICAgeyBwYXNzd29yZDogcmVxLmJvZHkubmV3cGFzc3dvcmQgfSxcbiAgICAgIChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gc2lnblRva2VuKFVzZXJzKTtcbiAgICAgICAgaWYgKGVycilcbiAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiRXJyb3IgaW4gdXBkYXRpbmcgY3VzdG9tZXJcIiB9KTtcbiAgICAgICAgZWxzZSByZXMuanNvbih7IHRva2VuLCBwcm9maWxlOiByZXEudXNlciB9KTtcbiAgICAgIH1cbiAgICApO1xuICB9LFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUNuQyxNQUFNQyxLQUFLLEdB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","map":{"version":3,"names":["JWT","require","Users","JWT_SECRET","signToken","user","sign","iss","sub","id","iat","Date","getTime","exp","setDate","getDate","module","exports","createUser","req","res","next","email","phone","body","foundUser","findOne","$or","toLowerCase","trim","status","json","message","role","cusObj","_objectSpread","password","dob","createdBy","_id","newUsers","save","deleteUser","findOneAndDelete","params","err","data","error","signIn","token","signOut","clearCookie","success","checkAuth","console","log","getUsers","find","exec","response","send","filter","o","undefined","updateProfile","findOneAndUpdate","updateUser","getProfile","profile","updateNewPassword","newpassword"],"sourceRoot":"/Users/pradeepreddy/Desktop/mitra-server/controllers/","sources":["users.js"],"sourcesContent":["const JWT = require(\"jsonwebtoken\");\nconst Users = require(\"../models/users\");\nconst { JWT_SECRET } = require(\"../configuration\");\n\nconst signToken = (user) => {\n  return JWT.sign(\n    {\n      iss: \"mitra-society\",\n      sub: user.id,\n      iat: new Date().getTime(), // current time\n      exp: new Date().setDate(new Date().getDate() + 1), // current time + 1 day ahead\n    },\n    JWT_SECRET\n  );\n};\n\nmodule.exports = {\n  createUser: async (req, res, next) => {\n    const { email, phone } = req.body;\n    let foundUser = await Users.findOne({\n      $or: [{ email: email.toLowerCase().trim() }, { phone: phone }],\n    });\n    if (foundUser) {\n      return res.status(400).json({\n        message: `${foundUser.role || 'user'} already exists with the ${\n          foundUser.email === email ? \"Email\" : \"Phone number\"\n        }`,\n      });\n    }\n    const cusObj = {\n      ...req.body,\n      password: req.body.dob,\n      createdBy: req.user?._id,\n    };\n    const newUsers = new Users(cusObj);\n    await newUsers.save();\n    res.status(200).json({ message: \"User created successfully\" });\n  },\n\n  deleteUser: async (req, res, next) => {\n    Users.findOneAndDelete({ _id: req.params.id }, (err, data) => {\n      if (err)\n        res.status(500).json({\n          message: \"Sorry something went wrong! please try later...\",\n          error: err,\n        });\n      else res.json({ message: \"Successfully Deleted.\" });\n    });\n  },\n\n  signIn: async (req, res, next) => {\n    const token = signToken(req.user);\n      res.status(200).json({ token });\n  },\n\n  signOut: async (req, res, next) => {\n    res.clearCookie(\"access_token\");\n    res.json({ success: true });\n  },\n\n  checkAuth: async (req, res, next) => {\n    const token = signToken(req.user);\n    console.log(\"I managed to get here!\");\n    res.json({ token });\n  },\n\n  getUsers: async (req, res, next) => {\n    Users.find({})\n      .exec((err, response) => {\n          res.send(response.filter(o => ({...o, password: undefined})));\n        }\n      );\n  },\n\n  updateProfile: async (req, res) => {\n    Users.findOneAndUpdate({ _id: req.user.id }, req.body, (err, response) => {\n      if (err) res.status(400).json({ message: \"Error in updating user\" });\n      else res.json(response);\n    });\n  },\n\n  updateUser: async (req, res) => {\n    Users.findOneAndUpdate({ _id: req.params.id }, req.body, (err, response) => {\n      if (err) res.status(400).json({ message: \"Error in updating user\" });\n      else res.json(response);\n    });\n  },\n\n  getProfile: async (req, res) => {\n    console.log(\"USER =>\", req.user);\n    const profile = req.user;\n    delete req.password;\n    res.send(profile);\n  },\n\n  deleteUser: async (req, res) => {\n    Users.findOneAndDelete({ _id: req.params.id }, function (err, response) {\n      if (err) res.json({ message: \"Error in deleteting product\" });\n      res.json(response);\n    });\n  },\n\n  updateNewPassword: async (req, res) => {\n    let foundUser = await Users.findOne({ email: req.body.email.toLowerCase().trim() });\n    if (!foundUser) {\n      return res.status(403).json({ error: \"Email is not exit\" });\n    }\n    Users.findOneAndUpdate(\n      { email: req.body.email.toLowerCase().trim() },\n      { password: req.body.newpassword },\n      (err, response) => {\n        const token = signToken(Users);\n        if (err)\n          res.status(400).json({ message: \"Error in updating customer\" });\n        else res.json({ token, profile: req.user });\n      }\n    );\n  },\n};\n"],"mappings":"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"}},"mtime":1683651226342}}